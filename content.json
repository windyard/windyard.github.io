{"pages":[],"posts":[{"title":"Testing post","text":"This is a testing post.Created at February 7th, 2019, 21:26","link":"/2019/02/07/Testing-post/"},{"title":"Hello World 2","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","link":"/2019/02/02/hello-world/"},{"title":"ã€Œè¯‘ã€ å¦‚ä½•åœ¨ Vue ä¸­ï¼ˆå®‰å…¨çš„ï¼‰ä½¿ç”¨ jQuery æ’ä»¶","text":"ä½œè€…ï¼šAnthony Gore åŸæ–‡é“¾æ¥ï¼šHow To (Safely) Use A jQuery Plugin With Vue.js åœ¨ä¸€ä¸ª UI ä¸­åŒæ—¶ä½¿ç”¨ Vue.js å’Œ jQuery å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚å¦‚æœå¯èƒ½çš„è¯è¦é¿å…è¿™ç§æƒ…å½¢ã€‚ ä¸è¿‡æ—¢ç„¶ä½ å·²ç»çœ‹åˆ°è¿™é‡Œäº†ï¼Œä¼°è®¡ä½ æ˜¯éè¦åŒæ—¶ç”¨ Vue å’Œ jQuery ä¸å¯äº†ã€‚æˆ–è®¸æ˜¯å®¢æˆ·åšæŒè¦ä½¿ç”¨æŸä¸ª jQuery æ’ä»¶è€Œä½ åˆæ²¡æ—¶é—´å»æŠŠå®ƒç”¨ Vue é‡å†™ã€‚ åªè¦ä½ è°¨æ…çš„æ“ä½œï¼Œè¿˜æ˜¯å¯ä»¥åŒæ—¶ä½¿ç”¨ Vue å’Œ jQuery çš„ã€‚è¿™ç¯‡æ–‡ç« é‡Œæˆ‘å°†æ¼”ç¤ºå¦‚ä½•åœ¨ Vue é¡¹ç›®ä¸­ä½¿ç”¨ä¸€ä¸ª jQuery UI çš„ Datepicker æ’ä»¶ã€‚ è€Œä¸”ä¸ºäº†å°å°çš„ç‚«ä¸€ä¸‹æŠ€ï¼Œæˆ‘è¿˜è¦åœ¨ jQuery æ’ä»¶å’Œ Vue ä¹‹é—´ä¼ é€’æ•°æ®ï¼ ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ç¤ºä¾‹ä»£ç  JS Bin jQuery UI Datepicker åŒæ—¶ä½¿ç”¨ jQuery å’Œ Vue å­˜åœ¨çš„é—®é¢˜ä¸ºä»€ä¹ˆè¯´è¿™ç§ç”¨æ³•ä¼šæœ‰æ½œåœ¨çš„é£é™©å‘¢ï¼Ÿ å¯ä»¥è¯´ Vue æ˜¯ä¸€ä¸ªå æœ‰æ¬²éå¸¸å¼ºçš„æ¡†æ¶ï¼Œå¥¹æ€»æƒ³å®Œå…¨æ§åˆ¶ä½ äº¤ç»™å¥¹çš„è¿™éƒ¨åˆ† DOM å…ƒç´ ï¼ˆä¼ é€’ç»™ el å±æ€§çš„å…ƒç´ ï¼‰ã€‚å¦‚æœ jQuery ä¿®æ”¹äº† Vue ç®¡è¾–ä¸‹çš„å…ƒç´ ï¼Œä¾‹å¦‚ä¸ºæŸä¸ªå…ƒç´ æ·»åŠ äº†ä¸€ä¸ª classï¼Œ Vue æ— æ³•æ„ŸçŸ¥åˆ°è¿™æ¬¡ä¿®æ”¹ï¼Œæ‰€ä»¥ä¸‹æ¬¡ Vue æ›´æ–° DOM æ—¶ä¼šç›´æ¥è¦†ç›– jQuery æ‰€åšçš„ä¿®æ”¹ã€‚ è§£å†³æ–¹æ¡ˆï¼šæŠŠ jQuery æ’ä»¶åŒ…è£…æˆ Vue ç»„ä»¶æ—¢ç„¶ Vue å’Œ jQuery ç»ä¸ä¼šåˆ†äº«åŒä¸€ä»½ DOMï¼Œæˆ‘ä»¬å¿…é¡»è®© Vue åˆ†å‰²å‡ºä¸€å—åŒºåŸŸäº¤ç»™ jQueryã€‚ çœ‹èµ·æ¥æŠŠ jQuery æ’ä»¶åŒ…è£…æˆ Vue ç»„ä»¶æ˜¯ä¸ªåŠæ³•ï¼Œå› ä¸ºï¼š æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Vue ç”Ÿå‘½å‘¨æœŸå‹¾å­æ¥è®¾ç½®æˆ–å¸è½½ jQuery ä»£ç  æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»„ä»¶æ¥å£ä½¿ç”¨ props å’Œ events æ¥ä¸ Vue åº”ç”¨é€šä¿¡ ç»„ä»¶å¯ä»¥é€šè¿‡è®¾ç½® v-once é¿å…è¢« Vue æ›´æ–° è®¾ç½® jQuery UI Datepickeré¦–å…ˆè¦åšçš„å½“ç„¶æ˜¯åœ¨ä½ çš„é¡¹ç›®ä¸­å¼•å…¥ jQuery UI æ’ä»¶ã€‚ç„¶åä½ åªéœ€è¦æŠŠ datepicker æ’ä»¶ç»‘å®šåˆ°ä¸€ä¸ª input å…ƒç´ ä¸Šï¼š 1Date: &lt;input id=\"datepicker\"&gt; é€‰ä¸­å¹¶åˆå§‹åŒ– Datepicker 1$('#datepicker').datepicker(); Datepicker ç»„ä»¶æˆ‘ä»¬çš„ datepicker ç»„ä»¶å¾ˆç®€å•ï¼Œtemplate åªæœ‰ä¸€ä¸ª input å…ƒç´ ï¼š 1234567Vue.component('date-picker', function() &#123; template: '&lt;input/&gt;'&#125;);new Vue(&#123; el: '#app'&#125;); 123&lt;div id=\"app\"&gt; Date: &lt;date-picker&gt;&lt;/date-picker&gt;&lt;/div&gt; æ³¨æ„ï¼šç»„ä»¶åªæ˜¯ä¸º jQuery æ’ä»¶æä¾›ä¸€ä¸ªåŒ…è£…ã€‚ä¸è¦è¯•å›¾ä¸ºç»„ä»¶å…ƒç´ æ·»åŠ ä»»ä½• data å±æ€§æˆ– Vue directives æˆ– slotsã€‚ æ’ä»¶å®ä¾‹åŒ–åœ¨è¿™é‡Œæˆ‘ä»¬å°†ä½¿ç”¨ this.$el è€Œä¸æ˜¯ input å…ƒç´ çš„ ID æ¥é€‰æ‹©æ’ä»¶å…ƒç´ ï¼Œæ¯ä¸ª Vue ç»„ä»¶éƒ½å¯ä»¥åƒè¿™æ ·æ¥è®¿é—®åˆ°è‡ªå·±çš„æ ¹å…ƒç´ ã€‚æˆ‘ä»¬è¿™é‡Œçš„æ ¹å…ƒç´ å°±æ˜¯ inputã€‚ ç„¶åæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªå…ƒç´ å¼•ç”¨ä¼ é€’ç»™ jQuery é€‰æ‹©å™¨å¹¶è°ƒç”¨ datepicker æ–¹æ³•ã€‚ä¾‹ï¼š$(this.$el).datepicker()ã€‚ æ³¨æ„æˆ‘ä»¬çš„ä»£ç æ˜¯å†™åœ¨åœ¨ Vue ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„ mounted é˜¶æ®µï¼Œå› ä¸ºåœ¨æ­¤ä¹‹å‰ this.$el è¿˜æ˜¯ undefined çŠ¶æ€ã€‚ 123456Vue.component('date-picker', function() &#123; template: '&lt;input/&gt;', mounted: function() &#123; $(this.$el).datepicker(); &#125;&#125;); å¸è½½ç±»ä¼¼çš„ï¼Œå¸è½½ datepicker æ’ä»¶åŒæ ·ä¹Ÿä¼šç”¨åˆ°ç”Ÿå‘½å‘¨æœŸå‹¾å­ã€‚æ³¨æ„æˆ‘ä»¬å¿…é¡»åœ¨ beforeDestroy é˜¶æ®µæ‰§è¡Œå¸è½½ï¼Œå› ä¸ºåœ¨è¿™ä¸ªé˜¶æ®µ input å…ƒç´ ä»ç„¶å­˜åœ¨äº DOM ä¸­ï¼Œæˆ‘ä»¬æ‰èƒ½é€‰ä¸­å®ƒï¼ˆåœ¨ destroy é˜¶æ®µå®ƒå°†å˜æˆ undefinedï¼‰ã€‚ 123456789Vue.component('date-picker', &#123; template: '&lt;input/&gt;', mounted: function() &#123; $(this.$el).datepicker(); &#125;, beforeDestroy: function() &#123; $(this.$el).datepicker('hide').datepicker('destroy'); &#125;&#125;); é€šè¿‡ props ä¼ é€’å‚æ•°ä¸ºäº†ä½¿æˆ‘ä»¬çš„ç»„ä»¶å¯å¤ç”¨ï¼Œæœ€å¥½è®©å®ƒèƒ½æ¥å—è‡ªå®šä¹‰è®¾ç½®å‚æ•°ï¼Œä¾‹å¦‚é€šè¿‡è®¾ç½®å±æ€§ dateFormat æ¥åˆ¶å®šæ—¥æœŸæ ¼å¼ã€‚é€šè¿‡ props å¯ä»¥å®ç°è¿™ä¸€ç›®æ ‡ï¼š 12345678910Vue.component('date-picker', &#123; template: '&lt;input/&gt;', props: [ 'dateFormat' ], mounted: function() &#123; $(this.$el).datepicker(&#123; dateFormat: this.dateFormat &#125;); &#125;, beforeDestroy: function() &#123; ... &#125;&#125;); 123&lt;div id=\"app\"&gt; &lt;date-picker date-format=\"yy-mm-dd\"&gt;&lt;/date-picker&gt;&lt;/div&gt; è®© jQuery æ¥æ”¶æ›´æ–°æ¯”æ–¹è¯´ä½ ä¸æ»¡è¶³äºåªæ˜¯ä¼ ç»™ dateFormat prop ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œæ˜¯æŠŠ dateFormat è®¾ç½®æˆ Vue æ ¹å®ä¾‹ä¸Šçš„ä¸€ä¸ªå±æ€§ï¼Œä¾‹ï¼š 123456var vm = new Vue(&#123; data: &#123; ... dateFormat: 'yy-mm-dd' &#125;&#125;); 123&lt;div id=\"app\"&gt; &lt;date-picker date-format=\"dateFormat\"&gt;&lt;/date-picker&gt;&lt;/div&gt; è¿™æ ·ä¸€æ¥ï¼ŒdateFormat å°±å˜æˆäº†ä¸€ä¸ªå“åº”å¼çš„ data å±æ€§ã€‚ä½ å¯ä»¥éšæ—¶åœ¨åº”ç”¨ä¸­æ›´æ”¹å®ƒçš„å€¼ï¼š 12// æ›´æ”¹æ—¥æœŸæ˜¾ç¤ºæ ¼å¼vm.dateFormat = 'yy-dd-mm'; ç”±äº dateFormat prop æ˜¯ datepicker ç»„ä»¶çš„ mounted é’©å­çš„ä¾èµ–é¡¹ï¼Œæ›´æ–°å®ƒçš„å€¼å°†å¯¼è‡´ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚è¿™å°±ä¸å¦™äº†ã€‚å› ä¸º jQuery å·²ç»åœ¨ input å…ƒç´ ä¸Šè®¾ç½®å¥½äº† datepicker å¹¶ä¸”æ·»åŠ äº†è‡ªå·±çš„ class å’Œ äº‹ä»¶ç›‘å¬ã€‚ç»„ä»¶é‡æ–°æ¸²æŸ“å°†å¯¼è‡´ input å…ƒç´ è¢«æ›¿æ¢è€Œä¸” jQuery æ‰€åšçš„è®¾ç½®ä¹Ÿè¢«é‡ç½®äº†ã€‚ æˆ‘ä»¬éœ€è¦å°†ç»„ä»¶è®¾ç½®ä¸ºæ¥æ”¶æ•°æ®ä¸é‡æ–°æ¸²æŸ“â€¦ v-oncev-once æŒ‡ä»¤ç”¨äºç¼“å­˜ä¸€ä¸ªåŒ…å«å¤§é‡é™æ€å†…å®¹çš„ç»„ä»¶ã€‚å¯¼è‡´çš„ç»“æœå°±æ˜¯è¿™ä¸ªç»„ä»¶æ¸²æŸ“ä¸ä¼šå—æ•°æ®æ›´æ–°çš„å½±å“ã€‚ æˆ‘ä»¬çš„ç»„ä»¶æ­£å¥½ç”¨åˆ°è¿™ä¸ªç‰¹æ€§ï¼Œå› ä¸ºå®ƒæœ‰æ•ˆçš„é¿å…äº†è¢« Vue é‡æ–°æ¸²æŸ“ã€‚å› æ­¤æˆ‘ä»¬æœ‰ç†ç”±ç›¸ä¿¡ jQuery å°†å¯ä»¥åœ¨åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸä¸­æ— éšœç¢çš„æ“ä½œè¿™ä¸ª input å…ƒç´ ã€‚ 123&lt;div id=\"app\"&gt; &lt;date-picker date-format=\"yy-mm-dd\" v-once&gt;&lt;/date-picker&gt;&lt;/div&gt; ä» jQuery å‘ Vue ä¼ é€’æ•°æ®å¦‚æœæˆ‘ä»¬ä¸èƒ½åœ¨ app ä¸­è·å–åˆ° datepicker é€‰ä¸­çš„æ—¥æœŸï¼Œé‚£å®ƒå°±æ²¡å•¥ç”¨äº†ã€‚è®©æˆ‘ä»¬æ¥å®ç°è¿™ä¸ªç›®æ ‡ã€‚ é¦–å…ˆç»™ root å®ä¾‹ä¸€ä¸ª date å±æ€§ï¼š 123456new Vue(&#123; el: '#app', data: &#123; date: null &#125;&#125;); 1234&lt;div id=\"app\"&gt; &lt;date-picker date-format=\"yy-mm-dd\" v-once&gt;&lt;/date-picker&gt; &lt;p&gt;&#123;&#123; date &#125;&#125;&lt;/p&gt;&lt;/div&gt; datepicker æ’ä»¶æœ‰ä¸€ä¸ª onSelect å›è°ƒå‡½æ•°æ¥å¤„ç†é€‰ä¸­æ—¥æœŸçš„æ“ä½œã€‚é€šè¿‡å®ƒæˆ‘ä»¬å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶å‘å‡ºæ•°æ®ã€‚ 123456789mounted: function() &#123; var self = this; $(this.$el).datepicker(&#123; dateFormat: this.dateFormat, onSelect: function(date) &#123; self.$emit('update-date', date); &#125; &#125;);&#125; åœ¨æ ¹å®ä¾‹ä¸Šç›‘å¬è‡ªå®šä¹‰äº‹ä»¶å¹¶æ¥æ”¶æ–°æ•°æ®ï¼š 1234&lt;div id=\"app\"&gt; &lt;date-picker @update-date=\"updateDate\" date-format=\"yy-mm-dd\" v-once&gt;&lt;/date-picker&gt; &lt;p&gt;&#123;&#123; date &#125;&#125;&lt;/p&gt;&lt;/div&gt; 1234567891011new Vue(&#123; el: '#app', data: &#123; date: null &#125;, methods: &#123; updateDate: function(date) &#123; this.date = date; &#125; &#125;&#125;); æ„Ÿè°¢è¿™ä¸ª Stack Overflow å›ç­” æä¾›çš„çµæ„Ÿ","link":"/2019/02/08/Use-jquery-in-vue/"},{"title":"ã€Œè¯‘ã€ä½¿ç”¨ CSS ç¡¬ä»¶åŠ é€Ÿæå‡ç½‘ç«™æ€§èƒ½","text":"ä½œè€…ï¼š Guil Hernandez åŸæ–‡é“¾æ¥ï¼šIncrease Your Siteâ€™s Performance with Hardware-Accelerated CSS ä½ çŸ¥é“æˆ‘ä»¬å¯ä»¥æŠŠå›¾åƒç›¸å…³çš„ CSS ç‰¹æ€§äº¤ç»™ GPU(å›¾åƒå¤„ç†å•å…ƒ) å¤„ç†ï¼Œä»¥åˆ©ç”¨ç¡¬ä»¶åŠ é€Ÿåœ¨æµè§ˆå™¨ä¸­è·å¾—æ›´å¥½çš„æ¸²æŸ“æ€§èƒ½å—ï¼Ÿ å½“ä»Šçš„å¤§å¤šæ•°ç”µè„‘éƒ½æœ‰å¯ç”¨äºç¡¬ä»¶åŠ é€Ÿçš„æ˜¾å¡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™äº› GPU èµ„æºå»å¤„ç†é‚£äº›æ¯”è¾ƒè€—æ€§èƒ½çš„ç‰¹æ€§ï¼Œè¿™æ ·æˆ‘ä»¬çš„ç½‘ç«™å’Œåº”ç”¨åœ¨æµè§ˆå™¨ä¸­å°±èƒ½è·å¾—æ¯”å•çº¯ç”¨ CPU å¤„ç†æ›´å¥½çš„æ€§èƒ½è¡¨ç°ã€‚ è¿™ç¯‡æ–‡ç« é‡Œï¼Œæˆ‘ä»¬ä¼šè®²åˆ°æ¡Œé¢å’Œæ‰‹æœºç«¯æµè§ˆå™¨çš„ CSS ç¡¬ä»¶åŠ é€Ÿã€‚ æ¡Œé¢å’Œæ‰‹æœºç«¯æµè§ˆå™¨ä¸­çš„ CSS ç¡¬ä»¶åŠ é€Ÿä½ æœ‰æ²¡æœ‰æƒ³è¿‡ä¸ºä»€ä¹ˆæœ‰äº› CSS åŠ¨ç”»åœ¨æµè§ˆå™¨ä¸­çœ‹èµ·æ¥æ¯”å…¶ä»–çš„æ›´æµç•…äº›ï¼Ÿ CSS animations, transforms å’Œ transitions é»˜è®¤å¹¶ä¸ä¼šå¯ç”¨ GPU åŠ é€Ÿï¼Œè€Œæ˜¯è¢«æµè§ˆå™¨å†…éƒ¨çš„ï¼ˆæ¯”è¾ƒæ…¢çš„ï¼‰è½¯ä»¶å¼•æ“æ¸²æŸ“ã€‚é‚£ä¹ˆåˆ°åº•æ˜¯ä»€ä¹ˆå¼ºåˆ¶æµè§ˆå™¨åˆ‡æ¢åˆ° GPU æ¨¡å¼å‘¢ï¼Ÿè®¸å¤šæµè§ˆå™¨é€šè¿‡ä¸€äº›ç‰¹å®šçš„ CSS è§„åˆ™å¯ç”¨ GPU åŠ é€Ÿã€‚ å½“å‰ï¼ŒChrome, Firefox, Safari, IE9+ å’Œæœ€æ–°ç‰ˆçš„ Opera éƒ½æ”¯æŒç¡¬ä»¶åŠ é€Ÿï¼›å®ƒä»¬åªæœ‰åœ¨æ£€æµ‹åˆ°æŸä¸ª DOM å…ƒç´ å¯èƒ½ä¼šä»ä¸­è·ç›Šçš„æ—¶å€™æ‰ä¼šåº”ç”¨ç¡¬ä»¶åŠ é€Ÿã€‚åœ¨ CSS ä¸­ï¼Œæœ€æ˜¾çœ¼çš„è¿¹è±¡å°±æ˜¯è¿™ä¸ªå…ƒç´ ä½¿ç”¨äº† 3D å˜æ¢ã€‚ ä¾‹å¦‚ï¼š 12345.cube &#123; -webkit-transform: translate3d(250px,250px,250px) rotate3d(250px,250px,250px,-120deg) scale3d(0.5, 0.5, 0.5);&#125; æŸäº›æ—¶å€™ï¼Œä½ å¯èƒ½å¹¶ä¸éœ€è¦ 3D å˜æ¢ä½†ä»ç„¶æƒ³åˆ©ç”¨ç¡¬ä»¶åŠ é€Ÿã€‚è¿™æ—¶å€™æœ‰å‡ ä¸ªéå¸¸é¡ºæ‰‹çš„ CSS ç‰¹æ€§å¯ä»¥ç”¨æ¥è§¦å‘æµè§ˆå™¨çš„ GPU åŠ é€Ÿã€‚ å°½ç®¡æˆ‘ä»¬çš„å…ƒç´ å¹¶ä¸æ˜¯åœ¨ 3D ç©ºé—´ä¸­åšåŠ¨ç”»ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥å¯ç”¨ 3D æ¸²æŸ“ã€‚é—²è¯ä¼‘æï¼Œtransform: translateZ(0); å£°æ˜åœ¨æ¡Œé¢å’Œæ‰‹æœºç«¯æµè§ˆå™¨ä¸­éƒ½ä¼šè§¦å‘ GPU åŠ é€Ÿã€‚çœ‹èµ·æ¥è¿™æ˜¯è§¦å‘ GPU åŠ é€Ÿçš„æœ€æœ‰æ•ˆçš„æ–¹å¼äº†ï¼ˆæ·»åŠ äº†æ‰€æœ‰æµè§ˆå™¨å‰ç¼€ï¼‰ï¼š 12345678.cube &#123; -webkit-transform: translateZ(0); -moz-transform: translateZ(0); -ms-transform: translateZ(0); -o-transform: translateZ(0); transform: translateZ(0); /* Other transform properties here */&#125; åœ¨ Chrome å’Œ Safari ä¸­ä½¿ç”¨ CSS transforms æ—¶å¯èƒ½ä¼šæœ‰é—ªçƒã€‚ä¸‹é¢è¿™äº›å£°æ˜å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š 123456789101112.cube &#123; -webkit-backface-visibility: hidden; -moz-backface-visibility: hidden; -ms-backface-visibility: hidden; backface-visibility: hidden; -webkit-perspective: 1000; -moz-perspective: 1000; -ms-perspective: 1000; perspective: 1000; /* Other transform properties here */&#125; å¦ä¸€ç§å¯ä»¥ç”¨åœ¨ Webkit å†…æ ¸çš„æ¡Œé¢å’Œæ‰‹æœºæµè§ˆå™¨ä¸­çš„æ–¹æ³•æ˜¯ä½¿ç”¨ translate3dï¼š 1234567.cube &#123; -webkit-transform: translate3d(0, 0, 0); -moz-transform: translate3d(0, 0, 0); -ms-transform: translate3d(0, 0, 0); transform: translate3d(0, 0, 0); /* Other transform properties here */&#125; åŸç”Ÿçš„æ‰‹æœºåº”ç”¨ä¸€ç›´åœ¨åˆ©ç”¨ GPU åŠ é€Ÿï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆå¤§å®¶ä¸€ç›´ä»¥æ¥çš„å°è±¡éƒ½æ˜¯åŸç”Ÿåº”ç”¨è¦æ¯”ç½‘é¡µåº”ç”¨æ›´æµç•…ä¸€äº›ã€‚åœ¨æ‰‹æœºä¸Šä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿæ¥é™ä½èµ„æºæ¶ˆè€—æ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚ ç»“è®ºæˆ‘ä»¬ä»‹ç»çš„è¿™äº›æ–¹æ³•åº”è¯¥åªç”¨äºéœ€è¦åŠ¨ç”»çš„å…ƒç´ ã€‚è¿™å¯ä»¥æé«˜ 2D å˜æ¢çš„æ€§èƒ½ï¼Œä¸è¿‡æŠŠè¿™ç§æ–¹æ³•ç”¨äºæ‰€æœ‰å…ƒç´ ç»ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚ è°¨æ…ä½¿ç”¨è¿™äº›æ–¹æ³•ï¼Œåªæœ‰å½“ä½ é‡åˆ°æ€§èƒ½ç“¶é¢ˆæ—¶æ‰éœ€è¦ç”¨å®ƒä»¬ã€‚æ»¥ç”¨ GPU åŠ é€Ÿå°†å¯¼è‡´ä¸¥é‡çš„æ€§èƒ½é—®é¢˜ï¼Œå› ä¸ºç¡¬ä»¶åŠ é€Ÿä¼šå ç”¨å¤§é‡å†…å­˜ -- è€Œä¸”è¿˜ä¼šå½±å“ç”µæ± ç»­èˆªã€‚ ä½ åœ¨ä½ çš„é¡¹ç›®ä¸­ç”¨è¿‡è¿™äº›æ–¹æ³•å—ï¼Ÿå¦‚æœç”¨è¿‡ï¼Œè¯·åˆ†äº«ä¸€ä¸‹å“ªäº›æ–¹æ³•æœ€æœ‰æ•ˆæ€§èƒ½æœ€å¥½ã€‚","link":"/2019/03/26/css-hardware-accelerate/"},{"title":"ã€Œè¯‘ã€æ·±åº¦ç†è§£ JavaScript ES6 ä¸­çš„ â€œSuperâ€ å’Œ â€œExtendsâ€","text":"ä½œè€…ï¼šAnurag MajumdaråŸæ–‡é“¾æ¥ï¼šâ€œSuperâ€ and â€œExtendsâ€ In JavaScript ES6 - Understanding The Tough Parts ES6 çš„ class è¯­æ³•ä»¥åŠå…¶ä»–æ–°ç‰¹æ€§è®© JavaScript æ˜¾å¾—ç®€å•å¤šäº†ã€‚ä»Šå¤©æˆ‘ä»¬å°†ç»“åˆ class è¯­æ³•å’Œç»§æ‰¿æ¦‚å¿µæ¥åˆ†æä¸€äº›ä»£ç ã€‚çŒœçš„æ²¡é”™ï¼Œæˆ‘ä»¬è¦ç ”ç©¶çš„æ­£æ˜¯ ES6 ä¸­çš„ super å’Œ extends å…³é”®å­—ã€‚å­¦ä¹ æ–°ç‰¹æ€§æœ€å¥½çš„æ–¹å¼å°±æ˜¯åœ¨å®ä¾‹ä¸­æ·±å…¥çš„ç ”ç©¶å®ƒã€‚è®©æˆ‘ä»¬å¼€å§‹å§ï¼ åœ¨ä»£ç ä¸­ä½¿ç”¨ super å’Œ extendsæˆ‘ä»¬å¯ä»¥å€ŸåŠ© super å’Œ extends JavaScript ä¸­æ‰©å±•ä¸€ä¸ª classã€‚æ¥çœ‹ä¸€ä¸‹ä¸‹é¢çš„ä¾‹å­ä¸­æ˜¯å¦‚ä½•ä½¿ç”¨è¿™ä¸¤ä¸ªå…³é”®å­—çš„ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758class Animal &#123; constructor(name, weight) &#123; this.name = name; this.weight = weight; &#125; eat() &#123; return `$&#123;this.name&#125; is eating!`; &#125; sleep() &#123; return `$&#123;this.name&#125; is going to sleep!`; &#125; wakeUp() &#123; return `$&#123;this.name&#125; is waking up!`; &#125;&#125;class Gorilla extends Animal &#123; constructor(name, weight) &#123; super(name, weight); &#125; climbTrees() &#123; return `$&#123;this.name&#125; is climbing trees!`; &#125; poundChest() &#123; return `$&#123;this.name&#125; is pounding its chest!`; &#125; showVigour() &#123; return `$&#123;super.eat()&#125; $&#123;this.poundChest()&#125;`; &#125; dailyRoutine() &#123; return `$&#123;super.wakeUp()&#125; $&#123;this.poundChest()&#125; $&#123;super.eat()&#125; $&#123;super.sleep()&#125;`; &#125;&#125;function display(content) &#123; console.log(content);&#125;const gorilla = new Gorilla('George', '160Kg');display(gorilla.poundChest());display(gorilla.sleep());display(gorilla.showVigour());display(gorilla.dailyRoutine());// OUTPUT:// George is pounding its chest!// George is going to sleep!// George is eating! George is pounding its chest!// George is waking up! George is pounding its chest! George is eating! George is going to sleep! ES6 Class åŠ Subclass è¯­æ³• ä¸Šé¢çš„ä»£ç ä¸­æœ‰ä¸¤ä¸ª JavaScript classï¼Œåˆ†åˆ«å«åš Animal å’Œ Gorillaã€‚ Gorilla class é€šè¿‡ä½¿ç”¨ extends å…³é”®å­—å°†è‡ªå·±è®¾ç½®ä¸º Animal class çš„é™„å±ç±»ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºå­ç±»ã€‚ ä¸è¿‡ï¼Œä¸çŸ¥é“ä½ æœ‰æ²¡æœ‰æ³¨æ„åˆ°ï¼Œsuper å…³é”®å­—åœ¨è¿™é‡Œæœ‰ä¸¤ç§ä¸åŒçš„ç”¨æ³•ã€‚åœ¨ Gorilla æ„é€ å‡½æ•°ä¸­ï¼ˆä»£ç  23 è¡Œï¼‰ï¼Œsuper è¢«å½“ä½œæ–¹æ³•ä½¿ç”¨ï¼Œç„¶è€Œåœ¨ Gorilla çš„ showVigour() æ–¹æ³•ï¼ˆä»£ç  35 è¡Œï¼‰åŠ dailyRoutine() æ–¹æ³•ï¼ˆä»£ç  39 è¡Œï¼‰ä¸­ super å´æ˜¯è¢«å½“ä½œâ€œå¯¹è±¡â€ä½¿ç”¨çš„ã€‚ super å…³é”®å­—æœ‰ä¸¤ç§ä¸åŒç”¨æ³•çš„åŸå› æ˜¯ï¼šåœ¨ç¬¬ 23 è¡Œä¸­ï¼Œsuper å…³é”®å­—æ˜¯ä½œä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä½¿ç”¨ä¼ é€’ç»™ Gorilla çš„å‚æ•°æ¥è°ƒç”¨çˆ¶ç±» Animalã€‚è¿™æ˜¯ç¡®ä¿ Gorilla æ˜¯ Animal çš„å®ä¾‹çš„å…³é”®ä¸€æ­¥ã€‚åœ¨ç¬¬ 35 è¡Œå’Œç¬¬ 39 è¡Œä¸­ï¼ŒSuper è¢«ç”¨ä½œæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ¥å¼•ç”¨ä¸€ä¸ª Animal å®ä¾‹ï¼ˆçˆ¶ç±»ï¼‰ã€‚è¿™é‡Œçš„ super å…³é”®å­—ç”¨æ¥æ˜¾å¼çš„è°ƒç”¨çˆ¶ç±» Animal çš„æ–¹æ³•ã€‚ ç†Ÿæ‚‰ C#ã€JAVAã€Python ç­‰è¯­è¨€çš„äººåº”è¯¥èƒ½æ˜ç™½è¿™æ˜¯æ€ä¹ˆå›äº‹ã€‚ä¸è¿‡ï¼Œåœ¨ ES6 å‡ºç°ä¹‹å‰ JavaScript å¯æ²¡è¿™ä¹ˆç®€æ˜ï¼Œç‰¹åˆ«æ˜¯åœ¨ç±»è¿™ä¸ªé—®é¢˜ä¸Šã€‚é‚£ä¹ˆåœ¨æ²¡æœ‰ class è¯­æ³•ã€super åŠ extends å…³é”®å­—çš„å¹´ä»£äººä»¬æ˜¯æ€ä¹ˆå†™ä»£ç çš„å‘¢ï¼Ÿè¿˜æ˜¯è¿™ç¾¤ä»æœªç”¨è¿‡ä»¥ä¸Šæ¦‚å¿µçš„äººçªå‘å¥‡æƒ³çš„è¦æ·»åŠ è¿™äº›ç‰¹æ€§ï¼Ÿè®©æˆ‘ä»¬æ¥æ¢å¯»ä¸€ä¸‹ï¼ ä¼ ç»Ÿçš„ JavaScript ç±»äº‹å®ä¸Šï¼Œé¢å‘å¯¹è±¡çš„ JavaScript ä½¿ç”¨åŸå‹ç»§æ‰¿æ¥æ‰©å±•ç±»ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ç”¨ä¼ ç»Ÿçš„ JavaScript è¯­æ³•æ¥å†™ä¸Šé¢çš„ä¾‹å­ã€‚ä¹Ÿè®¸è¿™å°†å¸®ä½ æ‰¾åˆ°éšè—çš„çœŸç›¸ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556function Animal(name, weight) &#123; this.name = name; this.weight = weight;&#125;Animal.prototype.eat = function() &#123; return `$&#123;this.name&#125; is eating!`;&#125;Animal.prototype.sleep = function() &#123; return `$&#123;this.name&#125; is going to sleep!`;&#125;Animal.prototype.wakeUp = function() &#123; return `$&#123;this.name&#125; is waking up!`;&#125;function Gorilla(name, weight) &#123; Animal.call(this, name, weight);&#125;Gorilla.prototype = Object.create(Animal.prototype);Gorilla.prototype.constructor = Gorilla;Gorilla.prototype.climbTrees = function () &#123; return `$&#123;this.name&#125; is climbing trees!`;&#125;Gorilla.prototype.poundChest = function() &#123; return `$&#123;this.name&#125; is pounding its chest!`;&#125;Gorilla.prototype.showVigour = function () &#123; return `$&#123;Animal.prototype.eat.call(this)&#125; $&#123;this.poundChest()&#125;`;&#125;Gorilla.prototype.dailyRoutine = function() &#123; return `$&#123;Animal.prototype.wakeUp.call(this)&#125; $&#123;this.poundChest()&#125; $&#123;Animal.prototype.eat.call(this)&#125; $&#123;Animal.prototype.sleep.call(this)&#125;`;&#125;function display(content) &#123; console.log(content);&#125;var gorilla = new Gorilla('George', '160Kg');display(gorilla.poundChest());display(gorilla.sleep());display(gorilla.showVigour());display(gorilla.dailyRoutine());// OUTPUT:// George is pounding its chest!// George is going to sleep!// George is eating! George is pounding its chest!// George is waking up! George is pounding its chest! George is eating! George is going to sleep! ES6 å‡ºç°ä¹‹å‰é¢å‘å¯¹è±¡çš„ JavaScript çœ‹å®Œä¸Šé¢çš„ä»£ç ä»¥åä½ ä»¬ä¸€å®šåœ¨æƒ³ï¼Œç­‰ä¸€ä¸‹ï¼Œè¿™é‡Œé¢æ€ä¹ˆæ²¡æœ‰ classï¼Ÿä¹Ÿæ²¡æœ‰ constructorï¼Ÿè¿™äº›å¤è€çš„ JavaScript ä»£ç æ˜¯å¦‚ä½•åšåˆ°åœ¨ä¸ä½¿ç”¨ extends å’Œ super å…³é”®å­—çš„æƒ…å†µä¸‹å®ç°ç»§æ‰¿çš„ï¼Ÿè¿™æ ·å†™ä»£ç ä¸æ˜¯å¾ˆä¸‘å˜›ï¼Ÿ æ²¡é”™å„¿æˆ‘å®Œå…¨ç†è§£ä½ ä»¬çš„æ„Ÿå—ã€‚å¾ˆä¸å¹¸ï¼ŒJavaScript çš„åº•å±‚å®ç°ä»æœªå˜è¿‡ã€‚ä¸ç®¡æœ‰å¤šå°‘æ–°ç‰¹æ€§è¢«æ·»åŠ ï¼Œå®ƒçš„åº•å±‚ä»ç„¶æ˜¯è€æ ·å­ã€‚classã€constructorã€super å’Œ extends ç­‰å…³é”®å­—åªæ˜¯ä¸ºä»–æ·»åŠ äº†ä¸€äº›è¯­æ³•ç³–ï¼Œä»¥ä½¿å¾—ä»£ç å¯è¯»æ€§æ›´å¥½ä¹Ÿæ›´æ˜“äºç¼–å†™ã€‚ è®©æˆ‘æ¥è§£é‡Šä¸€ä¸‹ ES6 å“ªäº›ä»£ç å¯¹åº”äº†ä¼ ç»Ÿçš„ JavaScript ä»£ç ã€‚ å¦‚æœä½ æ˜¯åˆæ¬¡æ¥è§¦ JavaScript ä¸­çš„ prototype å’Œ inheritance æ¦‚å¿µï¼Œè¯·å…ˆé˜…è¯»ä¸‹é¢ä¸¤ç¯‡æ–‡ç« åå†ç»§ç»­é˜…è¯»æœ¬æ–‡å‰©ä¸‹çš„ç« èŠ‚ï¼š è¿™ä¸¤ç¯‡å‚è€ƒæ–‡ç« å¯¹ä½ æ›´å¥½çš„ç†è§£ä¸‹é¢çš„ç« èŠ‚ä¼šæœ‰å¾ˆå¤§å¸®åŠ©ã€‚ ES6 ä¸ä¼ ç»Ÿ JavaScript ä»£ç å¯¹æ¯”ä¸‹é¢çš„ç« èŠ‚å›åˆ†è§£å¯¹æ¯” ES6 ä»£ç ä¸ä¼ ç»Ÿ JavaScript é£æ ¼ä»£ç çš„å¼‚åŒã€‚ ç±»å£°æ˜ä¸‹é¢çš„ä»£ç ç‰‡æ®µå¯¹æ¯”äº†ä¸¤ç§ç±»å£°æ˜æ–¹å¼ã€‚ 1234567891011121314151617// ES6 styleclass Animal &#123; constructor(name, weight) &#123; this.name = name; this.weight = weight; &#125; //...&#125;// Check Type of ES6 classtypeof Animal // function// Traditional stylefunction Animal(name, weight) &#123; this.name = name; this.weight = weight;&#125; ç±»å£°æ˜å¯¹æ¯” ES6 çš„ç±»å£°æ˜ç›´æ¥ä½¿ç”¨ class å…³é”®å­—ï¼Œç„¶ååœ¨ constructor ï¼ˆæ„é€ å‡½æ•°ï¼‰ä¸­å®šä¹‰å®ä¾‹å˜é‡ã€‚è€Œåœ¨ä¼ ç»Ÿçš„ JavaScript ä¸­æ˜¯æ²¡æœ‰ class è¿™ç§ä¸œè¥¿çš„ã€‚å®é™…ä¸Šåœ¨ JavaScript å†…éƒ¨ class å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ˆå‚è§ä»£ç ç‰‡æ®µç¬¬ 11 è¡Œï¼‰ã€‚ ç¬¬ 3 è¡Œçš„ constructor å‡½æ•°è·Ÿç¬¬ 14 è¡Œçš„å‡½æ•°æ˜¯ä¸€æ ·çš„ã€‚è¿™é‡Œçš„ Animal å‡½æ•°å°±ç›¸å½“äº constructor å‡½æ•°ã€‚ Class ä¸­çš„æ–¹æ³•12345678910111213141516171819202122232425// ES6 styleclass Animal &#123; // ... eat() &#123; return `$&#123;this.name&#125; is eating!`; &#125; sleep() &#123; return `$&#123;this.name&#125; is going to sleep!`; &#125; wakeUp() &#123; return `$&#123;this.name&#125; is waking up!`; &#125; // ...&#125;// Traditional styleAnimal.prototype.eat = function() &#123; return `$&#123;this.name&#125; is eating!`;&#125;Animal.prototype.sleep = function() &#123; return `$&#123;this.name&#125; is going to sleep!`;&#125; æ–¹æ³•å£°æ˜å¯¹æ¯” ä»ç¬¬ 4 è¡Œåˆ°ç¬¬ 14 è¡Œæ˜¯ ES6 é£æ ¼çš„ç±»ä¸­çš„æ–¹æ³•ã€‚ä¸è¿‡åœ¨ä¼ ç»Ÿçš„ JavaScript æ˜¯ä¸å¯èƒ½è¿™æ ·å†™çš„ï¼Œå› ä¸ºæ ¹æœ¬å°±ä¸å­˜åœ¨ class è¿™ä¸ªä¸œè¥¿æ¥è®©ä½ è½»æ¾çš„å£°æ˜æ–¹æ³•ã€‚åœ¨ä¼ ç»Ÿçš„ JavaScript ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡æŠŠæ–¹æ³•æ·»åŠ åˆ° prototype ä¸Šæ¥è¾¾åˆ°ä¸ºç±»æ·»åŠ æ–¹æ³•è¿™ä¸€ç›®çš„ã€‚ç¬¬ 19 è¡Œåˆ°ç¬¬ 29 è¡Œæ˜¯ä¸ºä¼ ç»Ÿ JavaScript ç±»æ·»åŠ æ–¹æ³•çš„å†™æ³•ã€‚ extends åœ¨ä¼ ç»Ÿ JavaScript ä¸­çš„å¯¹åº”å½“æˆ‘ä»¬è¦ä»çˆ¶ç±»æ‰©å±•ä¸€ä¸ªå­ç±»æ—¶ï¼Œä¸¤ç§å†™æ³•çš„å·®å¼‚å°±æ›´å¤§äº†ã€‚å‚è§ä¸‹é¢çš„ä»£ç ç‰‡æ®µï¼š 123456789101112131415// ES6 styleclass Gorilla extends Animal &#123; constructor(name, weight) &#123; super(name, weight); &#125; //...&#125;// Traditional stylefunction Gorilla(name, weight) &#123; Animal.call(this, name, weight);&#125;Gorilla.prototype = Object.create(Animal.prototype);Gorilla.prototype.constructor = Gorilla; extends å…³é”®å­—ä¸ä¼ ç»Ÿå®ç°æ–¹å¼çš„å¯¹æ¯” æˆ‘ä»¬çœ‹åˆ° extends å…³é”®å­—ç”¨ ES6 çš„é£æ ¼å¤„ç†äº†ä»çˆ¶ç±» Animal æ‰©å±•å‡ºå­ç±»çš„æ“ä½œï¼Œä¸è¿‡è¿™é‡Œä¹Ÿç”¨åˆ°äº† super å…³é”®å­—æ¥ç¡®ä¿ Gorilla çš„æ„é€ å‡½æ•°è°ƒç”¨äº† Animal ç±»ï¼Œè¿™æ ·å®ƒå°±èƒ½ç»§æ‰¿ Animal çš„ç‰¹æ€§å’Œè¡Œä¸ºã€‚åœ¨è¿™é‡Œï¼Œsuper å…³é”®å­—æ˜¯ä½œä¸ºå‡½æ•°æ¥è°ƒç”¨ Animal ç±»æ¥åˆå§‹åŒ– Gorillaã€‚è¿™æ—¶å€™ï¼Œsuper çš„ä½œç”¨ç›¸å½“äº Animal.call(this,â€¦)ã€‚ è‹¥æ˜¯ç”¨ä¼ ç»Ÿçš„å†™æ³•æ¥å®ç°ç»§æ‰¿ï¼Œåˆ™è¦å¤šå‡ ä¸ªæ­¥éª¤ã€‚é¦–å…ˆè¦åˆ›å»ºä¸€ä¸ªå­ç±» Gorilla çš„å‡½æ•°ï¼Œå¦‚ä»£ç ç¬¬ 10 è¡Œæ‰€ç¤ºã€‚ç”±äº Gorilla è¦ç»§æ‰¿ Animal çš„ç‰¹æ€§å’Œè¡Œä¸ºï¼Œå®ƒéœ€è¦åœ¨ Gorilla çš„æ„é€ å‡½æ•°ä¸­è°ƒç”¨ Animal çš„æ„é€ å‡½æ•°ï¼Œå¦‚ä»£ç ç¬¬ 11 è¡Œæ‰€ç¤ºï¼Œè¿™è¡Œä¸ç¬¬ 4 è¡Œçš„åŠŸèƒ½æ˜¯ä¸€æ ·çš„ã€‚åªä¸è¿‡æˆ‘ä»¬éœ€è¦æ˜¾å¼çš„ä¼ é€’ â€œthisâ€ å¼•ç”¨ç»™ Animal ç±»ä»¥ä¿è¯è°ƒç”¨æ˜¯åœ¨ Gorilla ä¸­å‘ç”Ÿçš„ã€‚ ä¸ä»…å¦‚æ­¤ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å°† Gorilla å‡½æ•°çš„ prototype è®¾ç½®ä¸ºä¸€ä¸ªä» Animal çš„ prototype åˆ›å»ºçš„æ–°å¯¹è±¡ï¼Œå¦‚ä»£ç ç¬¬ 11 è¡Œæ‰€ç¤ºã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±é‡å†™äº† Gorilla çš„ prototype å¯¹è±¡ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä»£ç ç¬¬ 15 è¡Œä¸­æ˜¾å¼çš„è®¾ç½® Gorilla çš„æ„é€ å‡½æ•°ã€‚é€šè¿‡è¿™äº›æ­¥éª¤æˆ‘ä»¬å°† Gorilla ç±»è®¾ç½®æˆä¸º Animal ç±»çš„å­ç±»ã€‚ super åœ¨ä¼ ç»Ÿ JavaScript ä¸­çš„å¯¹åº”æˆ‘ä»¬å·²ç»è§è¯†è¿‡ super å…³é”®å­—çš„ä¸€ç§å¯¹åº”ï¼Œå³ï¼Œä¸‹é¢ä»£ç ç‰‡æ®µç¬¬ 4 è¡Œå’Œç¬¬ 19 è¡Œï¼Œsuper è¢«ç”¨ä½œå‡½æ•°ã€‚ 1234567891011121314151617181920212223242526272829// ES6 styleclass Gorilla extends Animal &#123; constructor(name, weight) &#123; super(name, weight); &#125; showVigour() &#123; return `$&#123;super.eat()&#125; $&#123;this.poundChest()&#125;`; &#125; dailyRoutine() &#123; return `$&#123;super.wakeUp()&#125; $&#123;this.poundChest()&#125; $&#123;super.eat()&#125; $&#123;super.sleep()&#125;`; &#125; // ...&#125;// Traditional stylefunction Gorilla(name, weight) &#123; Animal.call(this, name, weight);&#125;Gorilla.prototype = Object.create(Animal.prototype);Gorilla.prototype.constructor = Gorilla;Gorilla.prototype.showVigour = function () &#123; return `$&#123;Animal.prototype.eat.call(this)&#125; $&#123;this.poundChest()&#125;`;&#125;Gorilla.prototype.dailyRoutine = function() &#123; super å…³é”®å­—ä¸ä¼ ç»Ÿå®ç°æ–¹å¼çš„å¯¹æ¯” super å…³é”®å­—ä¹Ÿå¯ä»¥ç”¨ä½œçˆ¶ç±»çš„å®ä¾‹ï¼Œå¦‚ä»£ç ç¬¬ 8 è¡Œå’Œç¬¬ 12 è¡Œè¿™æ ·è°ƒç”¨ Animal ç±»çš„æ–¹æ³•ã€‚ ä»£ç ç¬¬ 26 è¡Œå±•ç¤ºäº†åœ¨ä¼ ç»Ÿçš„ JavaScript ä¸­å®ç°åŒæ ·çš„ç›®çš„ï¼Œsuper å®ä¾‹ç›¸å½“äºä¼ ç»Ÿå†™æ³•çš„ ParentClassName.prototype.methodName.call(this, â€¦)ã€‚å³ä¼ ç»Ÿå†™æ³•éœ€è¦ç¼–å†™å¤§é‡çš„ä»£ç æ¥ç¡®ä¿çˆ¶ç±»çš„æ–¹æ³•è¢«è°ƒç”¨ã€‚ ç»“è®ºæˆ‘å¾ˆç¡®å®šï¼Œä½ ä»¬åœ¨äº†è§£äº†ä¼ ç»Ÿçš„å†™æ³•æ˜¯å¤šä¹ˆçš„å¤æ‚ä¹‹åä¸€å®šä¼šæ¯«ä¸çŠ¹è±«çš„é€‰æ‹© ES6 çš„ç±»å’Œç»§æ‰¿ç‰¹æ€§ã€‚è€Œä¸”ï¼ŒChrome å’Œ Firefox å·²ç»æ”¯æŒäº† ES6ï¼Œä¸è¿‡ä¸ºäº†ç¡®ä¿ ES6 ç‰¹æ€§åœ¨æ‰€æœ‰çš„æµè§ˆå™¨ä¸­éƒ½èƒ½æ‰§è¡Œï¼Œä½ è¿˜æ˜¯éœ€è¦ä¸€ä¸ª babel è½¬è¯‘å™¨æ¥æŠŠ ES6 ä»£ç è½¬æ¢æˆ ES5 ä»£ç ã€‚ ç¥ç¼–ç å¿«ä¹ï¼ğŸ˜„","link":"/2019/05/27/super-extends-js/"},{"title":"ã€Œè¯‘ã€5 åˆ†é’Ÿä¸Šæ‰‹ Service Worker","text":"ä½œè€…ï¼šCarmen BourlonåŸæ–‡é“¾æ¥ï¼šWrite Your First Service Worker in 5 Minutes ä»€ä¹ˆæ˜¯ Service Worker?Service Worker æ˜¯ä¸€ä¸ªè®©ä½ å¯ä»¥åœ¨ç”¨æˆ·æœºå™¨ä¸Šç¼“å­˜æ–‡ä»¶å’Œå…¶ä»–èµ„æºçš„å°æ–‡ä»¶ã€‚é‚£å®ƒè·ŸæœåŠ¡å™¨ç«¯ç¼“å­˜ (server-side caching) æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿè¿™ç§ç¼“å­˜æ˜¯æ”¾åœ¨ç”¨æˆ·çš„æœºå™¨ä¸Šçš„ï¼Œå› æ­¤è·ŸæœåŠ¡å™¨ç«¯çš„ç¼“å­˜ç›¸æ¯”ï¼Œå®ƒä¸éœ€è¦å†é€šè¿‡ç½‘ç»œä¼ è¾“ã€‚è¿™å¯¹æå‡ä½ çš„åº”ç”¨çš„é€Ÿåº¦å’Œå¯é æ€§æ˜¯éå¸¸æœ‰å¥½å¤„çš„ã€‚ç”±äº app æ˜¯ä»ç¼“å­˜ä¸­è¿è¡Œçš„ï¼Œå°±ä¸ç”¨å¤§è´¹å‘¨ç« çš„èŠ±æ—¶é—´ä»ç½‘ç»œä¼ è¾“æ•°æ®äº†ã€‚ ä¸ºä»€ä¹ˆè¯´å®ƒå¯¹ä½ çš„åº”ç”¨æœ‰å¥½å¤„åº”ç”¨ Service Worker ä¸ä»…èƒ½æå‡åº”ç”¨çš„é€Ÿåº¦ï¼Œè¿˜èƒ½ä¸ºä½ çš„ç”¨æˆ·æä¾›å‰æ‰€æœªæœ‰çš„å¯é æ€§ã€‚ç”±äºä¸å†ä¾èµ–å®æ—¶çš„ç½‘ç»œè¿æ¥ï¼Œåº”ç”¨åœ¨ç½‘ç»œè´¨é‡å·®çš„æ—¶å€™ä¹Ÿèƒ½å·¥ä½œ--è¯´çœŸçš„æ‰€æœ‰äººçš„ç½‘ç»œè´¨é‡éƒ½ä¸å’‹çš„ã€‚ ç”Ÿå‘½å‘¨æœŸService Worker ç”Ÿå‘½å‘¨æœŸåŸºæœ¬æ˜¯è¿™æ ·ï¼š install Activate Fetch æˆ‘ä»¬æ¥åˆ†åˆ«è®²è§£ä¸€ä¸‹è¿™äº›äº‹ä»¶ï¼š Installåœ¨ install äº‹ä»¶ä¹‹å‰ï¼Œä½ çš„åº”ç”¨é‡Œè¿˜æ²¡æœ‰ Service Workerã€‚æµè§ˆå™¨ä¼šä»ä½ çš„ä»£ç ä¸­æ£€æµ‹æ³¨å†Œäº‹ä»¶å¹¶å®‰è£… Service Workerã€‚ä½ çš„ Service Worker åŒ…å«ä¸€ä¸ªåä¸º oninstall çš„å‡½æ•°ï¼Œå®ƒå°†å†³å®šå“ªäº›æ–‡ä»¶ä¼šè¢«ç¼“å­˜åˆ°ç”¨æˆ·çš„æœºå™¨ä¸Šã€‚ Activateåœ¨ Service Worker å®‰è£…å°±ç»ªä»¥åï¼Œä¼šè§¦å‘ activate äº‹ä»¶ã€‚æ­¤æ—¶æ˜¯æ¸…ç†è€æ—§æ— ç”¨çš„ç¼“å­˜æ–‡ä»¶çš„å¥½æ—¶æœºã€‚ä¸è¿‡åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¹¶ä¸ä¼šåœ¨ activate äº‹ä»¶é‡Œåšä»»ä½•æ“ä½œã€‚ Fetchè¿™æ˜¯æˆ‘ä»¬çš„ Service Worker å¤§æ˜¾èº«æ‰‹çš„æ—¶å€™ã€‚å½“åº”ç”¨å‘å‡º fetch è¯·æ±‚æ—¶ï¼Œæˆ‘ä»¬çš„ Service Worker ä¼šç”¨ä¸€ä¸ªåå­—ä¹Ÿæ˜¯ fetch çš„å‡½æ•°æ‹¦æˆªå®ƒã€‚ä½ çš„ Service Worker ä¼šä»æ¢ä»ä¸­å¯»æ‰¾ç±»ä¼¼çš„è¯·æ±‚æˆ–æ˜¯å°†è¿™ä¸ªè¯·æ±‚å‘é€å‡ºå»ã€‚ Service Worker ç”Ÿå‘½å‘¨æœŸä¸­ activate å’Œ fetch å¹¶ä¸æ˜¯ä¾æ¬¡æ‰§è¡Œçš„ã€‚Fetch åªæœ‰åœ¨æœ‰ fetch æ“ä½œæ—¶æ‰æ‰§è¡Œæ‹¦æˆªï¼Œå› æ­¤ activate äº‹ä»¶å’Œ ftech äº‹ä»¶ä¹‹é—´æ˜¯æœ‰é—´éš”çš„ã€‚åœ¨è¿™é—´éš”æœŸé—´ï¼ŒService Worker å¤„äºå¾…å‘½çŠ¶æ€ã€‚ Service Worker ç¤ºä¾‹æˆ‘ä»¬ç”¨ FayePI æ¥åšä¾‹å­ã€‚è¿™æ˜¯æˆ‘å†™çš„ä¸€ä¸ªå¸®åŠ©å¥³æ€§å­¦ä¹ å»ºè®¾åŠ¨æ€ç½‘ç«™çš„ APIï¼Œå®ƒçš„æ–‡æ¡£é¡µé¢ç”¨äº†ä¸€ç‚¹ç®€å•çš„ Service Workerã€‚ ä¸ºäº†å®‰è£… Service Workerï¼Œæˆ‘ä»¬å¾—å…ˆä¸ºåº”ç”¨æ·»åŠ ä¸€ä¸ªæ³¨å†Œå‡½æ•°ã€‚ 12345// index.jsif(navigator.serviceWorker) &#123; navigator.serviceWorker.register('serviceworker.js');&#125; ä¸Šé¢è¿™æ®µä»£ç é€šå¸¸æ”¾åœ¨ index.js ä¸­ä»¥ä¾¿åœ¨é¡µé¢åŠ è½½å®Œæˆåç«‹å³æ‰§è¡Œã€‚åœ¨ä½ çš„åº”ç”¨ä»£ç ä¸­ï¼Œè¿™æ˜¯å”¯ä¸€å¼•ç”¨ Service Worker çš„åœ°æ–¹ã€‚ ä¸‹é¢æ˜¯æˆ‘ä»¬çš„ Service Worker æ–‡ä»¶ã€‚ 123456789// serviceworker.jsself.oninstall = function() &#123; caches.open('fayeFrontEndV1').then(function(cache) &#123; cache.addAll([ / ... / ]) .catch( / ... / ); &#125;) .catch( / ... /)&#125; è¿™äº›å°±æ˜¯å®‰è£… Sercice Worker æ—¶æ‰§è¡Œçš„ä»£ç ã€‚é¦–å…ˆæˆ‘ä»¬åˆå§‹åŒ–å¹¶æ‰“å¼€ cacheã€‚æˆ‘ä»¬åœ¨è¿™é‡Œå°†æ–‡ä»¶ç¼“å­˜åˆ°ç”¨æˆ·æœºå™¨ä¸Šã€‚ caches.open è¿”å›ä¸€ä¸ªåŒ…å«æˆ‘ä»¬æ‰“å¼€çš„ cache çš„å¼•ç”¨çš„ promiseã€‚ç„¶åæˆ‘ä»¬ä¼ ç»™ addAll å‡½æ•°ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ã€‚è¿™äº›å­—ç¬¦ä¸²æ˜¯æˆ‘ä»¬è¦æ·»åŠ åˆ°ç¼“å­˜çš„æ–‡ä»¶çš„è·¯å¾„ã€‚æœ€åæˆ‘ä»¬æ·»åŠ å‡ ä¸ª catch å‡½æ•°æ¥å¤„ç†å¯èƒ½ä¼šå‡ºç°çš„é”™è¯¯ã€‚ ä¸‹ä¸€æ­¥æ˜¯ activate: 1234// serviceworker.jsself.onactivate = function(event) &#123; console.log('sw is up and running!');&#125; æ­¤æ—¶æ˜¯è¿›è¡Œåƒåœ¾æ¸…ç†çš„å¥½æ—¶æœºï¼Œä¸è¿‡æˆ‘ä»¬å°†åœ¨å¦ä¸€ç¯‡åšæ–‡é‡Œè®²è§£ã€‚ æœ€åï¼Œä¹Ÿæ˜¯æœ€æ£’çš„éƒ¨åˆ†ï¼è®©æˆ‘ä»¬æ¥çœ‹çœ‹ fetchã€‚ 12345678910111213// serviceworker.jsself.onfetch = function(event) &#123; event.respondWith( caches.match(event.request) .then(function(cachedFiles) &#123; if(cachedFiles) &#123; return cachedFiles; &#125; else &#123; return fetch(event.request); &#125; &#125;) );&#125; è¿™ä¸ªå‡½æ•°ä¼šåœ¨ Service Worker æ£€æµ‹åˆ° fetch è¯·æ±‚æ—¶æ‰§è¡Œã€‚å®ƒä¼šåœ¨å…¨éƒ¨ cache ä¸­è¯•å›¾æ‰¾åˆ°åŒ¹é…çš„è¯·æ±‚ã€‚å¦‚æœåŒ¹é…æˆåŠŸï¼Œå‡½æ•°å°†è¿”å› cache ä¸­çš„ç»“æœã€‚å¦åˆ™ Service Worker ä¼šå‘é€ç½‘ç»œè¯·æ±‚ã€‚ è®©æˆ‘ä»¬ä»”ç»†åˆ†æä¸€ä¸‹ event.respondWith å’Œ caches.matchï¼Œè¿™ä¿©éƒ½æ˜¯ Service Worker ä¸“æœ‰çš„ã€‚ event.respondWith è®©ä½ å¯ä»¥æ‰“æ–­ fetch è¯·æ±‚å¹¶è¿”å›ä½ è‡ªå·±çš„å“åº”å†…å®¹ã€‚ä¸€å®šè¦æ³¨æ„å¿…é¡»ç”¨è¿™ä¸ªæ–¹æ³•è€Œä¸æ˜¯ç®€å•çš„ return ä¸€ä¸ªè¿”å›å€¼ï¼Œåªæœ‰è¿™æ ·ä½ æ‹¦æˆªçš„å›å¤æ‰èƒ½å‘é€åˆ°æ­£ç¡®çš„åœ°æ–¹ã€‚ caches.match è®©ä½ èƒ½å¤Ÿæœç´¢ CacheStorage å¹¶æ‰¾åˆ°è¯·æ±‚çš„åŒ¹é…é¡¹ã€‚æˆ‘ä»¬å‘ cache æ·»åŠ çš„å†…å®¹ï¼Œä¼šè¢«å­˜å‚¨åˆ°ä¸€ä¸ªæ ˆä¸­ï¼Œæœ€æ—©æ·»åŠ çš„åœ¨æœ€åº•éƒ¨ï¼Œæœ€åæ·»åŠ çš„åœ¨é¡¶éƒ¨ã€‚caches.match ä¼šè¿”å›æœ€æ–°çš„åŒ¹é…é¡¹ã€‚å¦‚æœæ²¡æœ‰åŒ¹é…é¡¹ï¼Œåˆ™è¿”å› nullã€‚ å¤§åŠŸå‘Šæˆï¼ä»¥ä¸Šå°±æ˜¯ä¸€ä¸ªç®€å•çš„ Service Worker çš„å…¨éƒ¨å†…å®¹ï¼å¦‚æœä½ è§‰å¾— Service Worker è¶…çº§é…·ï¼Œæˆ‘æ¨èä½ äº†è§£ä¸€ä¸‹å®ƒè¿˜èƒ½åšä»€ä¹ˆï¼ŒåŒ…æ‹¬åå° fetchï¼Œåœ¨è¿™ç¯‡åšå®¢ä¸­ã€‚ å¦‚æœä½ æƒ³å­¦ä¹ æ›´å¤šå…³äº Service Worker çš„çŸ¥è¯†ï¼Œæˆ‘å¸Œæœ›ä½ èƒ½å» serviceworkerbook.com å¹¶è®¢é˜…æˆ‘çš„é‚®ä»¶åˆ—è¡¨ï¼Œå¹¶åœ¨ Twitter å…³æ³¨æˆ‘ï¼ä½ ä¼šåœ¨æˆ‘çš„ä¹¦ â€œLetâ€™s Take This Offlineâ€ å‡ºç‰ˆçš„ç¬¬ä¸€æ—¶é—´è·æ‚‰ï¼","link":"/2019/03/31/sw-in-5m/"},{"title":"ã€Œè¯‘ã€Web Componentsï¼šå…¥é—¨åˆ°ç²¾é€š (1)","text":"ä½œè€…ï¼šPascal SchilpåŸæ–‡é“¾æ¥ï¼šWeb Components: from zero to hero Web Components: å…¥é—¨åˆ°ç²¾é€šä¸€ä¸ªç¼–å†™åŸç”Ÿ Web Components çš„æ•™ç¨‹ ä»€ä¹ˆæ˜¯ Web Componentsï¼Ÿ ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ ç¼–å†™æˆ‘ä»¬çš„ to-do åº”ç”¨ è®¾ç½® properties è®¾ç½® attributes å°† properties æ˜ å°„åˆ° attributes äº‹ä»¶ æµè§ˆå™¨æ”¯æŒä»¥åŠ polyfill åŒ…è£… Web Components ç°åœ¨æœ‰äº†è¶Šæ¥è¶Šå¤§çš„æ¨åŠ¨åŠ›ã€‚éšç€ Edge å›¢é˜Ÿå®£å¸ƒéƒ¨ç½² Custom Elements å’Œ Shadow DOMï¼Œæ‰€æœ‰çš„ä¸»æµæµè§ˆå™¨éƒ½å·²ç»åŸç”Ÿæ”¯æŒ Web Componentsã€‚åƒ Githubï¼ŒNetflixï¼ŒYoutube å’Œ ING ç­‰ç”šè‡³å·²ç»åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨äº† Web Componentsï¼èµï¼ä¸è¿‡ï¼Œå¾ˆè®©äººæƒŠè®¶çš„æ˜¯ï¼Œè¿™äº›æˆåŠŸçš„å¤§å…¬å¸ä¸­æ²¡æœ‰ä¸€ä¸ªåšè¿‡ï¼ˆçŒœçš„æ²¡é”™ï¼‰ to-do åº”ç”¨ï¼ å› æ­¤ï¼Œä»Šå¤©æˆ‘ä»¬è¦åšä¸€ä¸ª to-do åº”ç”¨ï¼Œå› ä¸ºä¸–ç•Œä¸Šè¿˜æ²¡å‡ ä¸ª to-do åº”ç”¨ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œå…ˆé¢„è§ˆä¸€ä¸‹æˆ‘ä»¬è¦åšçš„ä¸œè¥¿ã€‚ åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘è¦å…ˆå†™ç‚¹å…è´£å£°æ˜ï¼Œè¿™ç¯‡åšæ–‡åªæ˜¯ä¸ºäº†è®©ä½ å¯¹ Web Components çš„åŸºç¡€æ¦‚å¿µæœ‰ä¸ªå¤§æ¦‚çš„äº†è§£ã€‚Web Components æ˜¯éå¸¸åº•å±‚çš„æŠ€æœ¯ï¼Œå¹¶ä¸å»ºè®®åœ¨æ²¡æœ‰è¾…åŠ©åº“çš„æƒ…å†µä¸‹ç¼–å†™å®Œæ•´çš„åº”ç”¨ï¼Œä¹Ÿä¸åº”è¯¥æ‹¿å®ƒè·Ÿå…¶ä»–æˆç†Ÿçš„æ¡†æ¶è¿›è¡Œæ¯”è¾ƒã€‚ ä»€ä¹ˆæ˜¯ Web Componentsï¼Ÿå…ˆè¯´é‡ç‚¹ï¼šWeb Components æ˜¯ä¸€ç³»åˆ—ç¼–å†™å…·æœ‰æ¨¡å—åŒ–ã€å¯é‡ç”¨å’Œå°è£…æ€§çš„ HTML å…ƒç´ çš„è§„èŒƒã€‚æœ€æ£’çš„åœ°æ–¹åœ¨äºï¼šç”±äºå®ƒæ˜¯åŸºäº web æ ‡å‡†ï¼Œæˆ‘ä»¬æ— éœ€å®‰è£…ä»»ä½•æ¡†æ¶æˆ–åº“ã€‚ç°åœ¨ä½ å°±å¯ä»¥ç”¨çº¯ JavaScript ç¼–å†™ Web Componentsï¼ ä¸è¿‡å‘¢ï¼Œåœ¨æˆ‘ä»¬ä¸‹æ‰‹ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ç¼–å†™ Web Components çš„å¿å®˜è§„èŒƒã€‚ è‡ªå®šä¹‰å…ƒç´ Custom Elements api å…è®¸æˆ‘ä»¬ç¼–å†™è‡ªå®šä¹‰çš„ DOM å…ƒç´ ã€‚é€šè¿‡è¿™ä¸ª apiï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰å…ƒç´ ï¼Œå¹¶é€šçŸ¥è§£æå™¨å¦‚ä½•æ­£ç¡®çš„æ„å»ºå…ƒç´ åŠå¦‚ä½•åº”å¯¹æ­¤ç±»å…ƒç´ çš„å˜åŠ¨ã€‚ä½ æ˜¯å¦æƒ³è¿‡åˆ›å»ºè‡ªå·±çš„å…ƒç´ ï¼Œæ¯”å¦‚ &lt;my-cool-element&gt;ï¼Ÿç°åœ¨ä½ èƒ½å¤Ÿè¿™æ ·åšäº†ï¼ Shadow DOMShadow DOM ç»™äº†æˆ‘ä»¬å°è£…ç»„ä»¶æ ·å¼å’Œæ ‡è®°çš„èƒ½åŠ›ã€‚å®ƒæ˜¯ä¸€ä¸ª DOM å…ƒç´ çš„å­ DOM æ ‘ï¼Œå¯ä»¥ç¡®ä¿æˆ‘ä»¬çš„ç»„ä»¶æ ·å¼ä¸ä¼šæ³„æ¼åˆ°å¤–éƒ¨ä½œç”¨åŸŸï¼Œæˆ–æ˜¯è¢«å¤–éƒ¨ä½œç”¨åŸŸçš„æ ·å¼æ‰€å½±å“ã€‚æ˜¯æ¨¡å—åŒ–çš„ç»é…ã€‚ ES æ¨¡å—ES æ¨¡å—è§„èŒƒå®šä¹‰äº†æ ‡å‡†åŒ–ã€æ¨¡å—åŒ–ã€é«˜æ•ˆç‡çš„å¼•ç”¨å’Œé‡ç”¨ JS æ–‡ä»¶çš„æ–¹å¼ã€‚ HTML TemplatesHTML &lt;template&gt; æ ‡ç­¾å…è®¸æˆ‘ä»¬åˆ›å»ºå¯é‡ç”¨çš„ DOM å—ã€‚åœ¨ template å†…éƒ¨ï¼Œè„šæœ¬ä¸ä¼šæ‰§è¡Œï¼Œå›¾ç‰‡ä¸ä¼šåŠ è½½ï¼Œæ ·å¼å’Œæ ‡ç­¾ä¹Ÿä¸ä¼šæ¸²æŸ“ã€‚åœ¨è¿™ä¸ª template è¢«æ¿€æ´»ä¹‹å‰å®ƒç”šè‡³ä¼šè¢«å½“ä½œä¸å­˜åœ¨åœ¨ document ä¸­ã€‚HTML templates éå¸¸æ£’ï¼Œå› ä¸ºä¸ç®¡æˆ‘ä»¬è¿™ä¸ªè‡ªå®šä¹‰å…ƒç´ æœ‰å¤šå°‘å®ä¾‹ï¼Œå®ƒä»¬ç”¨çš„éƒ½æ˜¯åŒä¸€ä¸ª templateã€‚ ç°åœ¨æˆ‘ä»¬å·²ç»çŸ¥é“äº† Web Components åˆ©ç”¨äº†å“ªäº› Web è§„èŒƒï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è‡ªå®šä¹‰å…ƒç´ çš„ç”Ÿå‘½å‘¨æœŸã€‚åˆ«æ€¥ï¼Œåˆ«æ€¥ï¼Œæˆ‘ä»¬é©¬ä¸Šå°±è¦å¼€å§‹å†™ä»£ç äº†ï¼ ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è‡ªå®šä¹‰å…ƒç´ çš„ç”Ÿå‘½å‘¨æœŸã€‚ä»¥ä¸‹é¢çš„å…ƒç´ ä¸ºä¾‹ï¼š 12345678910111213141516171819202122232425class MyElement extends HTMLElement &#123; constructor() &#123; // åŠ¡å¿…å…ˆè°ƒç”¨ super() super(); console.log('constructed!'); &#125; connectedCallback() &#123; console.log('connected!'); &#125; disconnectedCallback() &#123; console.log('disconnected!'); &#125; attributeChangedCallback(name, oldVal, newVal) &#123; console.log(`Attribute: $&#123;name&#125; changed!`); &#125; adoptedCallback() &#123; console.log('adopted!'); &#125;&#125;window.customElements.define('my-element', MyElement); constructor()constructor ä¼šåœ¨å…ƒç´ åˆ›å»ºåè€Œå°šæœªè¢«é™„åŠ åˆ°æ–‡æ¡£ä¸Šä¹‹å‰è¢«è°ƒç”¨ã€‚æˆ‘ä»¬ç”¨ constructor æ¥è®¾ç½®åˆå§‹çŠ¶æ€ã€äº‹ä»¶ç›‘å¬ä»¥åŠ shadow DOMã€‚ connectCallback()connectCallback ä¼šåœ¨å…ƒç´ è¢«æ·»åŠ åˆ° DOM ä¸­åè¢«è°ƒç”¨ã€‚æ­¤æ—¶éå¸¸é€‚åˆæ‰§è¡Œåˆå§‹åŒ–ä»£ç ï¼Œæ¯”å¦‚è·å–æ•°æ®æˆ–æ˜¯è®¾ç½®é»˜è®¤å±æ€§ã€‚ disconnectedCallback()disconnectedCallback() ä¼šåœ¨å…ƒç´ ä» DOM ä¸­è¢«ç§»é™¤åè°ƒç”¨ã€‚å¤§æ‰«é™¤æ—¶é—´ï¼æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ disconnectedCallback æ¥ç§»é™¤äº‹ä»¶ç›‘å¬å™¨æˆ–å–æ¶ˆå®šæ—¶å¾ªç¯äº‹ä»¶ã€‚ attributeChangedCallback(name, oldValue, newBalue)attributeChangedCallback ä¼šåœ¨å…ƒç´ çš„å—ç›‘çš„æ§å±æ€§å˜åŠ¨æ—¶è¢«è°ƒç”¨ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½® observedAttributes getter æ¥ç›‘æ§æŸä¸ªå…ƒç´ å±æ€§ï¼Œåƒè¿™æ ·ï¼š 123static get observedAttributes() &#123; return ['my-attr'];&#125; åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ¯å½“ my-attr å±æ€§å‘ç”Ÿå˜åŒ–ï¼ŒattributeChangedCallback å°±ä¼šæ‰§è¡Œã€‚æœ¬æ–‡åé¢å°†ä¼šè¯¦ç»†è®²è§£ã€‚","link":"/2019/04/01/web-components-hero-1/"},{"title":"ã€Œè¯‘ã€åŠ¨æ‰‹å®ç°ä¸€ä¸ªå•æ–‡ä»¶ Web Components","text":"ä½œè€…ï¼šTomasz JakutåŸæ–‡é“¾æ¥ï¼šImplementing single file Web Components å¯èƒ½æ¯ä¸ªäº†è§£ Vue æ¡†æ¶çš„äººéƒ½å¬è¯´è¿‡å®ƒçš„â€œå•æ–‡ä»¶ç»„ä»¶ï¼ˆsingle file componentsï¼‰â€ã€‚è¿™ä¸ªè¶…ç®€å•çš„æ¦‚å¿µè®© Web å¼€å‘äººå‘˜å¯ä»¥åªç”¨ä¸€ä¸ªæ–‡ä»¶æ¥å®šä¸€ä¸ªç»„ä»¶ã€‚è¿™ä¸ªè§£å†³æ–¹æ¡ˆéå¸¸å¥½ç”¨ä»¥è‡³äºä¸€ä¸ªåœ¨æµè§ˆå™¨ä¸­åŒ…å«è¿™ç§æœºåˆ¶çš„ææ¡ˆå·²ç»å‡ºç°ã€‚ ä¸è¿‡å¾ˆä¸å¹¸çš„æ˜¯ï¼Œè¿™ä¸ªææ¡ˆè²Œä¼¼å·²ç»æ­»æ‰äº†ï¼Œä» 2017 å¹´ 8 æœˆä»¥åå°±å†æ²¡æœ‰ä»»ä½•è¿›å±•ã€‚å³ä½¿å¦‚æ­¤ï¼Œåœ¨ç°æœ‰å¯è¡ŒæŠ€æœ¯ä¸‹ç ”ç©¶è¿™ä¸ªè¯é¢˜å¹¶ä¸”åˆ›å»ºä¸€ä¸ªå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„å•æ–‡ä»¶ç»„ä»¶ä»ç„¶å€¼å¾—å†™ä¸€ç¯‡æ–‡ç« ï¼ å•æ–‡ä»¶ç»„ä»¶äº†è§£æ¸è¿›å¢å¼ºè¿™ä¸ªæœ¯è¯­çš„ Web å¼€å‘äººå‘˜åº”è¯¥ä¹Ÿå¬è¯´è¿‡â€œåˆ†å±‚â€è¿™ä¸ªè¯å„¿ã€‚åœ¨ç»„ä»¶ä¸­ä¹Ÿæ˜¯è¿™æ ·çš„ã€‚å®é™…ä¸Šå±‚æ•°è¿˜ä¸å°‘å‘¢ï¼Œæ¯ä¸ªç»„ä»¶è‡³å°‘æœ‰ 3 å±‚ï¼šå†…å®¹/æ¨¡ç‰ˆï¼Œæ ·å¼å’Œè¡Œä¸ºã€‚æŒ‰ç…§ä¼ ç»Ÿçš„åšæ³•ï¼Œæ¯ä¸ªç»„ä»¶è‡³å°‘ä¼šè¢«åˆ†æˆ 3 ä¸ªæ–‡ä»¶ï¼Œä¾‹å¦‚ä¸€ä¸ª Button ç»„ä»¶å¯èƒ½ä¼šæ˜¯è¿™ä¸ªæ ·å­ï¼š 1234567Button/|| -- Button.html|| -- Button.css|| -- Button.js è¿™æ˜¯æŒ‰ç…§æŠ€æœ¯æ¥åˆ†å±‚ï¼ˆå†…å®¹/æ¨¡ç‰ˆï¼šHTMLï¼Œæ ·å¼ï¼šCSSï¼Œè¡Œä¸ºï¼šJSï¼‰ã€‚è¿™å°±æ˜¯è¯´--å¦‚æœä½ æ²¡æœ‰ç”¨æ„å»ºå·¥å…·çš„è¯--æµè§ˆå™¨å°†éœ€è¦åŠ è½½ 3 ä¸ªæ–‡ä»¶ã€‚äºæ˜¯æœ‰äººä¾¿æå‡ºä¸€ä¸ªæ¦‚å¿µï¼Œä¿ç•™åˆ†å±‚çš„æ¦‚å¿µï¼Œä½†ä¸æ˜¯æŒ‰ç…§æŠ€æœ¯ç§ç±»åˆ†æˆä¸åŒä½†æ–‡ä»¶ã€‚äºæ˜¯å•æ–‡ä»¶ç»„ä»¶è¯ç”Ÿäº†ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘å¯¹â€œæŒ‰æŠ€æœ¯åˆ†å±‚â€è¿™ä¸ªåšæ³•æŒæ€€ç–‘æ€åº¦ã€‚è€Œä¸”ï¼Œè¿™ä¸ªæ¦‚å¿µå®é™…ä¸Šç»å¸¸åœ¨ä¸€äº›å…³äºæ”¾å¼ƒåˆ†å±‚çš„äº‰è®ºä¸­è¢«æåˆ°--æ ¹æœ¬å°±æ˜¯å®Œå…¨å¯¹ç«‹çš„ä¸¤ä»¶äº‹ã€‚ å•æ–‡ä»¶çš„ Button ç»„ä»¶çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š 1234567891011&lt;template&gt; &lt;!-- Button.html contents go here. --&gt;&lt;/template&gt;&lt;style&gt; /* Button.css contents go here. */&lt;/style&gt;&lt;script&gt; // Button.js contents go here.&lt;/script&gt; å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°ï¼Œå•æ–‡ä»¶ç»„ä»¶å°±æ˜¯ä¸€ä¸ªæœ‰å†…éƒ¨æ ·å¼è¡¨ã€script å’Œ &lt;template&gt; æ ‡ç­¾çš„æ ‡å‡† HTMLã€‚å¾—ç›Šäºè¿™ç§ç®€æ´çš„å®ç°ï¼Œä½ çš„ç»„ä»¶ä¸éœ€è¦åˆ†æˆå¤šä¸ªæ–‡ä»¶ä¹Ÿæœ‰å¾ˆæ˜æ˜¾çš„åˆ†å±‚ï¼ˆå†…å®¹/æ¨¡ç‰ˆï¼š&lt;template&gt;ï¼Œæ ·å¼ï¼š&lt;style&gt;ï¼Œè¡Œä¸ºï¼š&lt;script&gt; ï¼‰ã€‚ ä¸è¿‡ä»ç„¶åˆä¸€ä¸ªæœ€é‡è¦çš„é—®é¢˜è¦è§£å†³ï¼šå¦‚ä½•ä½¿ç”¨å®ƒå‘¢ï¼Ÿ åŸºç¡€æ¦‚å¿µæˆ‘ä»¬å…ˆæ¥ç¼–å†™ä¸€ä¸ªå«åš loadComponent() çš„ å…¨å±€å‡½æ•°æ¥åŠ è½½æˆ‘ä»¬çš„ç»„ä»¶ã€‚ 12345window.loadComponent = ( function() &#123; function loadComponent( URL ) &#123;&#125; return loadComponent;&#125;() ); æˆ‘ç”¨åˆ°äº†è¿™äº›ç»„ä»¶æ¨¡å¼ã€‚ä½ å¯ä»¥å®šä¹‰æ‰€æœ‰éœ€è¦çš„è¾…åŠ©å‡½æ•°ï¼ŒåªæŠŠ loadComponent æš´éœ²ç»™å¤–éƒ¨ä½œç”¨åŸŸã€‚ç›®å‰è¿™ä¸ªå‡½æ•°æ²¡æœ‰ä»»ä½•åŠŸèƒ½ã€‚ ç„¶è€Œæˆ‘ä»¬ä¹Ÿæ²¡ä»€ä¹ˆä¸œè¥¿éœ€è¦åŠ è½½ï¼Œæ‰€ä»¥è¿™ä¹Ÿä¸æ˜¯ä»€ä¹ˆé—®é¢˜ã€‚åœ¨è¿™ç¯‡æ–‡ç« é‡Œæˆ‘ä»¬å‡è®¾ä½ è¦åˆ›å»ºä¸€ä¸ª &lt;hello-world&gt; ç»„ä»¶ç”¨äºæ˜¾ç¤ºä»¥ä¸‹æ–‡å­—ï¼š Hello, world! My name is &lt;æŒ‡å®šçš„åç§°&gt;. è€Œä¸”å½“ä½ ç‚¹å‡»äº†è¿™ä¸ªç»„ä»¶ï¼Œå®ƒä¼šå¼¹å‡ºä¸€ä¸ªæ¶ˆæ¯ï¼š Donâ€™t touch me! æŠŠç»„ä»¶ä»£ç ä¿å­˜ä¸º HelloWorld.wcï¼ˆ.wc ä»£è¡¨ Web Componentï¼‰ã€‚ç°é˜¶æ®µå®ƒæ˜¯è¿™æ ·çš„ï¼š 12345678910111213141516171819&lt;template&gt; &lt;div class=\"hello\"&gt; &lt;p&gt;Hello, world! My name is &lt;slot&gt;&lt;/slot&gt;.&lt;/p&gt; &lt;/div&gt;&lt;/template&gt;&lt;style&gt; div &#123; background: red; border-radius: 30px; padding: 20px; font-size: 20px; text-align: center; width: 300px; margin: 0 auto; &#125;&lt;/style&gt;&lt;script&gt;&lt;/script&gt; ç°åœ¨ä½ è¿˜æ²¡æœ‰ä¸ºå®ƒæ·»åŠ ä»»ä½•åŠŸèƒ½ã€‚åªæ˜¯å®šä¹‰äº†å®ƒçš„æ¨¡ç‰ˆå’Œæ ·å¼ã€‚ä½¿ç”¨æ²¡æœ‰ä»»ä½•é€‰æ‹©å™¨çš„ div ä»¥åŠ &lt;slot&gt; å…ƒç´ çš„å‡ºç°æ„å‘³ç€è¿™ä¸ªç»„ä»¶å°†ä½¿ç”¨ Shadow DOMã€‚ç¡®å®å¦‚æ­¤ï¼šæ‰€æœ‰çš„æ ·å¼å’Œæ¨¡ç‰ˆé»˜è®¤éƒ½ä¼šè¢«éšè—åœ¨æš—å¤„ã€‚ ç»„ä»¶åœ¨ç½‘ç«™ä¸Šçš„ä½¿ç”¨æ–¹å¼åº”è¯¥å°½å¯èƒ½çš„ç®€å•ï¼š 123456&lt;hello-world&gt;Comandeer&lt;/hello-world&gt;&lt;script src=\"loader.js\"&gt;&lt;/script&gt;&lt;script&gt; loadComponent( 'HelloWorld.wc' );&lt;/script&gt; ç»„ä»¶çš„ç”¨æ³•è·Ÿæ ‡å‡†çš„ Custom Element ä¸€æ ·ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯åœ¨ä½¿ç”¨ loadComponent() æ–¹æ³•ä¹‹å‰éœ€è¦å…ˆåŠ è½½ä¸€ä¸ª jsï¼ˆè¿™ä¸ªæ–¹æ³•ä½äº loader.js æ–‡ä»¶ä¸­ï¼‰ã€‚è¿™ä¸ªæ–¹æ³•è´Ÿè´£æ‰€æœ‰çš„ç¹é‡å·¥ä½œï¼Œåƒè·å–ç»„ä»¶å’Œåœ¨ customElements.define() ä¸­æ³¨å†Œç»„ä»¶ã€‚ ä»¥ä¸Šå°±æ˜¯æ‰€æœ‰çš„åŸºç¡€æ¦‚å¿µï¼Œæ¥ä¸‹æ¥è¦å¼€å§‹åŠ¨çœŸæ ¼çš„äº†ï¼ åŸºç¡€ loaderå¦‚æœä½ æƒ³ä»å¤–éƒ¨æ–‡ä»¶ä¸­åŠ è½½æ•°æ®ï¼Œä½ å¿…é¡»ä½¿ç”¨ç¥åœ£çš„ Ajaxã€‚ç„¶è€Œå¦‚ä»Šå·²ç»æ˜¯ 2018 å¹´äº†ï¼Œç°åœ¨ä½ å¯ä»¥ä»¥ Fetch API çš„å½¢å¼ä½¿ç”¨ Ajaxï¼š 123function loadComponent( URL ) &#123; return fetch( URL );&#125; æ¼‚äº®ï¼ä¸è¿‡ç°åœ¨ä½ åªæ˜¯è·å–äº†æ–‡ä»¶ï¼Œæ²¡æœ‰å¯¹å®ƒåšä»»ä½•æ“ä½œã€‚è·å–å®ƒçš„å†…å®¹çš„æœ€å¥½æ–¹å¼å°±æ˜¯æŠŠå®ƒè½¬æˆæ–‡å­—ï¼š 12345function loadComponent( URL ) &#123; return fetch( URL ).then( ( response ) =&gt; &#123; return response.text(); &#125; );&#125; ç”±äºç°åœ¨ loadComponent() è¿”å›çš„ fetch() å‡½æ•°çš„ç»“æœæ˜¯ä¸€ä¸ª Promiseã€‚ä½ å¯ä»¥æ®æ­¤æ£€æŸ¥å†…å®¹æ˜¯å¦çœŸæ­£åŠ è½½å¹¶æ£€æŸ¥å®ƒæ˜¯ä¸æ˜¯è¢«è½¬æˆäº†æ–‡å­—ï¼š 123loadComponent( 'HelloWorld.wc' ).then( ( component ) =&gt; &#123; console.log( component );&#125; ); Chrome console æ˜¾ç¤º HelloWorld.wc å·²ç»åŠ è½½å®Œæˆå¹¶è½¬æˆäº†çº¯æ–‡æœ¬ è¿è¡ŒæˆåŠŸï¼ è§£æè¿”å›å€¼ä¸è¿‡ï¼Œåªæ˜¯çº¯æ–‡æœ¬å¹¶ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚ä½ ç”¨ HTML å†™è¿™ä¸ªç»„ä»¶ä¸æ˜¯ä¸ºäº†åšé‚£äº›ä¸å…è®¸åšçš„äº‹æƒ…ã€‚æ¯•ç«Ÿä½ æ˜¯åœ¨æµè§ˆå™¨é‡Œ--ä¸€ä¸ªåˆ›å»º DOM çš„ç¯å¢ƒã€‚åˆ©ç”¨å®ƒçš„åŠ›é‡ï¼ æµè§ˆå™¨ä¸­åˆä¸€ä¸ªå¾ˆæ£’çš„ DOMPaser ç±»è®©ä½ å¯ä»¥åˆ›å»º DOM è§£æå™¨ã€‚æˆ‘ä»¬æŠŠå®ƒå®ä¾‹åŒ–ç”¨æ¥æŠŠç»„ä»¶è½¬æ¢æˆ DOMï¼š 1234567return fetch( URL ).then( ( response ) =&gt; &#123; return response.text();&#125; ).then( ( html ) =&gt; &#123; const parser = new DOMParser(); // 1 return parser.parseFromString( html, 'text/html' ); // 2&#125; ); é¦–å…ˆåˆ›å»ºä¸€ä¸ªè§£æå™¨å®ä¾‹(1)ï¼Œç„¶åè§£æç»„ä»¶çš„æ–‡æœ¬å†…å®¹(2)ã€‚å€¼å¾—æ³¨æ„ä½ ä½¿ç”¨çš„æ˜¯ HTML æ¨¡å¼ï¼ˆ&#39;text/html&#39;ï¼‰ã€‚å¦‚æœå¸Œæœ›ä»£ç æ›´å¥½çš„éµå¾ª JSX è§„èŒƒæˆ–åŸç”Ÿ Vue ç»„ä»¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ XML æ¨¡å¼ï¼ˆ&#39;text/xml&#39;ï¼‰ã€‚ä¸è¿‡è¿™æ ·ä¸€æ¥ä½ å°±è¦æ›´æ”¹ç»„ä»¶çš„ç»“æ„äº†ï¼ˆä¾‹å¦‚ï¼šå¢åŠ ä¸€ä¸ªåŒ…å«æ‰€æœ‰å†…å®¹çš„ä¸»å…ƒç´ ï¼‰ã€‚ ç°åœ¨å¦‚æœä½ å†æŸ¥çœ‹ loadComponent() çš„è¿”å›å€¼ï¼Œä½ å°†çœ‹åˆ°ä¸€ä¸ªå®Œæ•´çš„ DOM æ ‘ã€‚ Chrome console æ˜¾ç¤º HelloWorld.wc çš„å†…å®¹å·²ç»è¢«è½¬æˆäº† DOM æˆ‘è¯´çš„â€œå®Œæ•´çš„â€çœŸçš„æ˜¯éå¸¸å®Œæ•´ã€‚ä½ å¾—åˆ°äº†ä¸€ä¸ªå¸¦æœ‰ &lt;head&gt; å’Œ &lt;body&gt; å…ƒç´ çš„å®Œæ•´çš„ HTML æ–‡æ¡£ã€‚ä½ å¯ä»¥çœ‹åˆ°ï¼Œç»„ä»¶çš„å†…å®¹å®Œå…¨åœ¨ &lt;head&gt; å…ƒç´ ä¸­ã€‚è¿™æ˜¯ HTML è§£æå™¨çš„å·¥ä½œæ–¹å¼å¯¼è‡´çš„ã€‚å»ºç«‹ DOM æ ‘çš„åŸç†åœ¨ HTML LS è§„èŒƒä¸­æœ‰è¯¦ç»†çš„æè¿°ã€‚å¤ªé•¿äº†å°±ä¸è¯¦ç»†è¯´äº†ï¼Œä½ å¯ä»¥ç®€å•çš„è®¤ä¸ºè§£æå™¨ä¼šæŠŠæ‰€æœ‰å…ƒç´ éƒ½æ”¾åœ¨ &lt;head&gt; å…ƒç´ ä¸­ï¼Œç›´åˆ°å®ƒé‡åˆ°äº†åªèƒ½æ”¾åœ¨ &lt;body&gt; ä¸­çš„å…ƒç´ ã€‚ä½ ç”¨åˆ°çš„æ‰€æœ‰å…ƒç´ ï¼ˆ&lt;template&gt;ï¼Œ&lt;style&gt;ï¼Œ&lt;script&gt;ï¼‰éƒ½å…è®¸æ”¾åœ¨ &lt;head&gt; ä¸­ã€‚å‡å¦‚ä½ åœ¨ç»„ä»¶çš„å¼€å¤´æ·»åŠ äº†ä¸€ä¸ªç©ºçš„ &lt;p&gt; æ ‡ç­¾ï¼Œé‚£ä¹ˆå…¨éƒ¨å†…å®¹éƒ½ä¼šè¢«æ¸²æŸ“åœ¨ &lt;body&gt; ä¸­ã€‚ å¦ç‡çš„è¯´ï¼Œè¿™ä¸ªç»„ä»¶æ˜¯è¢«å½“ä½œæœ‰ç¼ºé™·çš„ HTML æ–‡æ¡£æ¥å¤„ç†çš„ï¼Œå› ä¸ºå®ƒæ²¡æœ‰ä»¥ DOCTYPE å£°æ˜å¼€å¤´ã€‚å› æ­¤å®ƒæ˜¯åœ¨ä¸€ä¸ªè¢«ç§°ä¸º quirks mode çš„æ¨¡å¼ä¸‹æ¸²æŸ“çš„ã€‚å¥½åœ¨è¿™å¯¹ä½ æ²¡ä»€ä¹ˆå½±å“ï¼Œå› ä¸ºä½ åªæ˜¯ç”¨ DOM è§£æå™¨å‰ªåˆ‡å‡ºæ‰€éœ€çš„ç»„ä»¶å†…å®¹ã€‚ æœ‰äº† DOM æ ‘ï¼Œä½ èƒ½è·å–ä½ æ‰€éœ€çš„é‚£éƒ¨åˆ†å…ƒç´ ï¼š 12345678910111213141516return fetch( URL ).then( ( response ) =&gt; &#123; return response.text();&#125; ).then( ( html ) =&gt; &#123; const parser = new DOMParser(); const document = parser.parseFromString( html, 'text/html' ); const head = document.head; const template = head.querySelector( 'template' ); const style = head.querySelector( 'style' ); const script = head.querySelector( 'script' ); return &#123; template, style, script &#125;;&#125; ); æŠŠæ‰€æœ‰çš„è·å–å’Œè§£æä»£ç ç§»åˆ°ç¬¬ä¸€ä¸ªè¾…åŠ©å‡½æ•° fetchAndParse() ä¸­ï¼š 1234567891011121314151617181920212223242526window.loadComponent = ( function() &#123; function fetchAndParse( URL ) &#123; return fetch( URL ).then( ( response ) =&gt; &#123; return response.text(); &#125; ).then( ( html ) =&gt; &#123; const parser = new DOMParser(); const document = parser.parseFromString( html, 'text/html' ); const head = document.head; const template = head.querySelector( 'template' ); const style = head.querySelector( 'style' ); const script = head.querySelector( 'script' ); return &#123; template, style, script &#125;; &#125; ); &#125; function loadComponent( URL ) &#123; return fetchAndParse( URL ); &#125; return loadComponent;&#125;() ); Fetch API å¹¶ä¸æ˜¯ä»å¤–éƒ¨æ–‡ä»¶ä¸­è·å– DOM æ ‘çš„å”¯ä¸€æ–¹æ³•ã€‚XMLHttpRequest æœ‰ä¸€ä¸ªä¸“é—¨çš„æ–‡ä»¶æ¨¡å¼ è®©ä½ å¯ä»¥çœæ‰æ•´ä¸ªçš„è§£ææ­¥éª¤ã€‚ä½†æ˜¯å®ƒæœ‰ä¸€ä¸ªç¼ºç‚¹ï¼šXMLHttpRequest æ²¡æœ‰ Promise å‹çš„ APIï¼Œè¿™éœ€è¦ä½ è‡ªè¡Œå®ç°ã€‚ æ³¨å†Œç»„ä»¶æ—¢ç„¶å·²ç»æ‹¿åˆ°æ‰€æœ‰éœ€è¦çš„éƒ¨ä»¶äº†ï¼Œç°åœ¨æ¥ç¼–å†™ç”¨äºæ³¨å†Œè‡ªå®šä¹‰ç»„ä»¶çš„ registerComponent() å‡½æ•°ï¼š 123456789101112131415window.loadComponent = ( function() &#123; function fetchAndParse( URL ) &#123; [â€¦] &#125; function registerComponent() &#123; &#125; function loadComponent( URL ) &#123; return fetchAndParse( URL ).then( registerComponent ); &#125; return loadComponent;&#125;() ); æé†’ä¸€ä¸‹ï¼šè‡ªå®šä¹‰å…ƒç´ å¿…é¡»æ˜¯ç»§æ‰¿è‡ª HTMLElement çš„ç±»ã€‚å¦å¤–æ‰€æœ‰çš„ç»„ä»¶éƒ½ä¼šç”¨ Shadow DOM æ¥æ‰¿è½½æ ·å¼å’Œæ¨¡ç‰ˆå†…å®¹ã€‚è¿™ä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰çš„ç»„ä»¶å°†ä½¿ç”¨ç›¸åŒçš„ classã€‚åˆ›å»ºï¼š 1234567891011121314function registerComponent( &#123; template, style, script &#125; ) &#123; class UnityComponent extends HTMLElement &#123; connectedCallback() &#123; this._upcast(); &#125; _upcast() &#123; const shadow = this.attachShadow( &#123; mode: 'open' &#125; ); shadow.appendChild( style.cloneNode( true ) ); shadow.appendChild( document.importNode( template.content, true ) ); &#125; &#125;&#125; ä½ å¯ä»¥æŠŠå®ƒå®šä¹‰åœ¨ registerComponent() å†…éƒ¨ï¼Œå› ä¸ºè¿™ä¸ª class ä¼šç”¨åˆ°ä¼ ç»™è¿™ä¸ªå‡½æ•°çš„ä¸€äº›æ•°æ®ã€‚è¿™ä¸ª class ä¼šç”¨ä¸€ä¸ªè·Ÿè¿™ç¯‡å…³äºå£°æ˜å¼ DOM çš„æ–‡ç« ï¼ˆæ³¢å…°è¯­ï¼‰ æ‰€ä»‹ç»çš„ç¨å¾®æœ‰æ‰€ä¸åŒçš„æœºåˆ¶æ¥é™„åŠ  Shadow DOMã€‚ ä¸æ³¨å†Œç»„ä»¶ç›¸å…³çš„åªå‰©ä¸‹ä¸€ä»¶äº‹--ç»™ä»–å‘½åå¹¶æ·»åŠ åˆ°é¡µé¢ä¸Šçš„ç»„ä»¶ä¸­ã€‚ 1234567function registerComponent( &#123; template, style, script &#125; ) &#123; class UnityComponent extends HTMLElement &#123; [â€¦] &#125; return customElements.define( 'hello-world', UnityComponent );&#125; ç°åœ¨æµ‹è¯•è¿™ä¸ªç»„ä»¶ï¼Œå®ƒçœ‹èµ·æ¥æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š Chrome ä¸­æ˜¾ç¤ºçš„ç»„ä»¶ï¼šçº¢è‰²åœ†è§’æ–¹å—ï¼Œå†…éƒ¨æœ‰ â€œHello, world! My name is Comandeerâ€å­—æ · è·å–è„šæœ¬å†…å®¹ç®€å•çš„éƒ¨åˆ†å·²ç»åšå®Œäº†ã€‚ç°åœ¨è¯¥åšç‚¹é«˜éš¾åº¦çš„ï¼šæ·»åŠ è¡Œä¸ºå±‚å¹¶ä¸”â€¦â€¦å°†ç»„ä»¶åç§°åŠ¨æ€åŒ–ã€‚ä¸Šä¸€æ­¥é‡Œä½ æŠŠç»„ä»¶åç§°ç¡¬ç¼–ç åœ¨ä»£ç é‡Œäº†ï¼Œä¸è¿‡ï¼Œå®ƒåº”è¯¥æ˜¯ä»ç»„ä»¶ä¸Šè·å–ã€‚åŒæ ·çš„åšæ³•ä¹Ÿä¼šè¢«ç”¨åœ¨ä¸ºè‡ªå®šä¹‰ç»„ä»¶ç»‘å®šäº‹ä»¶ç›‘å¬å™¨ä¸Šã€‚ä½¿ç”¨åŸºäº Vue çš„çº¦å®šï¼š 12345678910111213141516&lt;template&gt; [â€¦]&lt;/template&gt;&lt;style&gt; [â€¦]&lt;/style&gt;&lt;script&gt; export default &#123; // 1 name: 'hello-world', // 2 onClick() &#123; // 3 alert( `Don't touch me!` ); &#125; &#125;&lt;/script&gt; å‡å®šç»„ä»¶ä¸­çš„ &lt;script&gt; æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œå®ƒå¯ä»¥å¯¼å‡ºå†…å®¹(1)ï¼Œå¯¼å‡ºçš„æ˜¯ä¸€ä¸ªåŒ…å«ç»„ä»¶åç§°(2)å’Œä»¥ on... å¼€å¤´çš„äº‹ä»¶ç›‘å¬å™¨æ–¹æ³•(3)çš„å¯¹è±¡ã€‚ çœ‹èµ·æ¥ä¸é”™ï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•æ³„æ¼ï¼ˆå› ä¸ºåœ¨å…¨å±€ä½œç”¨åŸŸä¸­ä¸å­˜åœ¨æ¨¡å—ï¼‰ã€‚ç„¶è€Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼šå¦‚ä½•å¤„ç†å†…éƒ¨æ¨¡å—çš„å¯¼å‡ºå¹¶æ²¡æœ‰ä¸€ä¸ªæ ‡å‡†ï¼ˆé‚£äº›ç›´æ¥å†™åœ¨ HTML æ–‡æ¡£ä¸­çš„ä»£ç ä¹Ÿæ˜¯ï¼‰ã€‚å¯¼å…¥å£°æ˜ä¼šå‡è®¾å®ƒå¾—åˆ°çš„æ˜¯ä¸€ä¸ªæ¨¡å—æ ‡è¯†ç¬¦ã€‚å¤šæ•°æƒ…å†µä¸‹æ˜¯ä¸€ä¸ªä»£ç æ–‡ä»¶çš„ URLã€‚å†…éƒ¨æ¨¡æ²¡æœ‰è¿™ç§æ ‡è¯†ç¬¦ã€‚ åˆ«ç€æ€¥æ”¾å¼ƒï¼Œä½ å¯ä»¥ç”¨ä¸€ä¸ªè¶…çº§è„çš„ hackã€‚è‡³å°‘æœ‰ä¸¤ç§æ–¹æ³•èƒ½å¼ºåˆ¶æµè§ˆå™¨å°†æ–‡æœ¬å½“ä½œæ–‡ä»¶æ¥å¤„ç†ï¼šData URI å’Œ Object URIã€‚ Stack Overflow å»ºè®®ä½¿ç”¨ Service Workerã€‚ä¸è¿‡åœ¨æˆ‘ä»¬è¿™ä¸ªæ¡ˆä¾‹ä¸­æœ‰ç‚¹å¤§æå°ç”¨äº†ã€‚ Data URI å’Œ Object URIData URI æ˜¯ä¸€ä¸ªå¤è€è€ŒåŸå§‹çš„æ–¹æ¡ˆã€‚å®ƒæ˜¯å»ç”¨é™¤æ–‡ä»¶å†…å®¹ä¸­æ— ç”¨çš„ç©ºæ ¼å¹¶ä¸”å¦‚æœæŒ‡å®šä¼šæŠŠæ‰€æœ‰å†…å®¹è½¬æˆ Base64 ç¼–ç çš„æ–¹å¼å°†æ–‡ä»¶è½¬æˆ URLã€‚å‡è®¾ä½ æœ‰ä¸€ä¸ªéå¸¸ç®€å•çš„ JavaScript æ–‡ä»¶ï¼š 1export default true; å®ƒçš„ Data URI å½¢å¼æ˜¯è¿™æ ·çš„ï¼š 1data:application/javascript;base64,ZXhwb3J0IGRlZmF1bHQgdHJ1ZTs= ä½ å¯ä»¥åƒå¼•ç”¨ä¸€ä¸ªæ–‡ä»¶ä¸€æ ·å¼•ç”¨è¿™ä¸ª URLï¼š 123import test from 'data:application/javascript;base64,ZXhwb3J0IGRlZmF1bHQgdHJ1ZTs=';console.log( test ); ç„¶è€Œæˆ‘ä»¬ä¸€çœ¼å°±èƒ½çœ‹å‡º Data URI æ–¹å¼çš„ç¼ºé™·ï¼šJavaScript æ–‡ä»¶è¶Šæ¥è¶Šå¤§ï¼ŒURL ä¹Ÿå°±å˜å¾—è¶Šæ¥è¶Šé•¿ã€‚ä»¥ç®€æ˜çš„æ–¹å¼å°†äºŒè¿›åˆ¶æ•°æ®è½¬æˆ Data URI ä¹Ÿå¾ˆå›°éš¾ã€‚å› æ­¤äººä»¬åˆ›é€ äº† Object URIã€‚å®ƒæ˜¯å‡ ä¸ªæ ‡å‡†çš„äº§ç‰©ï¼ŒåŒ…æ‹¬ File API å’ŒåŒ…æ‹¬ &lt;video&gt; å’Œ &lt;audio&gt; çš„ HTML 5.xã€‚Object URI çš„ç›®æ ‡å¾ˆç®€å•ï¼šä»äºŒè¿›åˆ¶æ•°æ®ç”Ÿæˆè™šæ‹Ÿæ–‡ä»¶ï¼Œè¿”å›ä¸€ä¸ªåªåœ¨å½“å‰é¡µé¢æœ‰æ•ˆçš„å”¯ä¸€ URLã€‚ç®€å•çš„è¯´ï¼šåœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªå…·æœ‰å”¯ä¸€åç§°çš„æ–‡ä»¶ã€‚è¿™æ ·ä½ å°±åˆ©ç”¨äº† Data URI çš„æ‰€æœ‰ä¼˜åŠ¿ï¼ˆç”¨ç®€å•çš„æ–¹å¼åˆ›å»ºæ–°â€œæ–‡ä»¶â€ï¼‰åˆé¿å…äº†å®ƒçš„ç¼ºé™·ï¼ˆä½ ä¸ç”¨åœ¨ä»£ç ä¸­åŒ…å«å¯èƒ½å¤šè¾¾ 100MB çš„æ–‡å­—äº†ï¼‰ã€‚ æµåª’ä½“ï¼ˆä¾‹å¦‚ï¼š&lt;video&gt; å’Œ &lt;audio&gt;ï¼‰æˆ–è€…ä½¿ç”¨æ‹–æ‹½æ–¹å¼é€šè¿‡ input[type=file] ä¸Šä¼ æ–‡ä»¶ç»å¸¸ä¼šåˆ›å»º Object URIã€‚ä¸è¿‡ä½ ä¹Ÿå¯ä»¥ç”¨ File å’Œ Blob ç±»æ‰‹åŠ¨åˆ›å»ºç±»ä¼¼çš„æ–‡ä»¶ã€‚åœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­æˆ‘ä»¬è¦æŠŠæ¨¡å—çš„å†…å®¹å‚¨å­˜åœ¨ Blog ç±»ä¸­å¹¶æŠŠå®ƒè½¬æ¢æˆ Object URIï¼š 1234const myJSFile = new Blob( [ 'export default true;' ], &#123; type: 'application/javascript' &#125; );const myJSURL = URL.createObjectURL( myJSFile );console.log( myJSURL ); // blob:https://blog.comandeer.pl/8e8fbd73-5505-470d-a797-dfb06ca71333 åŠ¨æ€å¯¼å…¥ä¸è¿‡è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼šimport å£°æ˜æ— æ³•æ¥æ”¶ä¸€ä¸ªä½œä¸ºæ¨¡å—æ ‡è¯†ç¬¦çš„å˜é‡ã€‚è¿™æ„å‘³ç€ä½ èƒ½æŠŠè¿™ä¸ªæ¨¡å—è½¬æ¢æˆâ€œæ–‡ä»¶â€å´æ— æ³•å¯¼å…¥ã€‚åˆ°å¤´æ¥è¿˜æ˜¯è¡Œä¸é€šï¼Ÿ ä¸æ˜¯çš„ã€‚å¾ˆæ—©ä»¥å‰äººä»¬å°±æ³¨æ„åˆ°äº†è¿™ä¸ªé—®é¢˜å¹¶æå‡ºäº†åŠ¨æ€å¯¼å…¥ææ¡ˆã€‚å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼ˆ2018 å¹´ 8 æœˆï¼‰å·²ç»è¿›è¡Œåˆ°æ ‡å‡†åŒ–çš„ç¬¬ä¸‰é˜¶æ®µäº†ï¼Œåœ¨æµè§ˆå™¨å’Œå…¶ä»– JavaScript ç¯å¢ƒä¸­å·²ç»å¼€å§‹éƒ¨ç½²ã€‚ä½¿ç”¨å˜é‡ä½œä¸ºæ¨¡å—æ ‡è¯†ç¬¦ä»¥åŠåŠ¨æ€å¯¼å…¥å·²ç»æ²¡é—®é¢˜äº†ï¼š 123456const myJSFile = new Blob( [ 'export default true;' ], &#123; type: 'application/javascript' &#125; );const myJSURL = URL.createObjectURL( myJSFile );import( myJSURL ).then( ( module ) =&gt; &#123; console.log( module.default ); // true&#125; ); å¯ä»¥çœ‹åˆ°ï¼Œimport() çš„ç”¨æ³•è·Ÿå‡½æ•°ä¸€æ ·å¹¶è¿”å›ä¸€ä¸ª Promiseï¼Œå®ƒæ˜¯ä¸€ä¸ªä»£è¡¨æ¨¡å—çš„å¯¹è±¡ã€‚åŒ…å«äº†æ‰€æœ‰å£°æ˜è¿‡çš„å¯¼å‡ºé¡¹ç›®ï¼Œé»˜è®¤çš„å¯¼å‡ºé¡¹ä»¥ default å±æ€§æ ‡è¯†ã€‚ éƒ¨ç½²æ—¢ç„¶ä½ å·²ç»çŸ¥é“ä½ è¦åšä»€ä¹ˆï¼Œé‚£ä¹ˆå°±åŠ¨æ‰‹å§ã€‚æ·»åŠ ä¸‹ä¸€ä¸ªè¾…åŠ©å‡½æ•° getSettings()ã€‚å®ƒä¼šåœ¨ registerComponents() ä¹‹å‰è¢«è°ƒç”¨æ¥ä»è„šæœ¬ä¸­è·å–å¿…é¡»çš„ä¿¡æ¯ï¼š 12345678910111213function getSettings( &#123; template, style, script &#125; ) &#123; return &#123; template, style, script &#125;;&#125;[â€¦]function loadComponent( URL ) &#123; return fetchAndParse( URL ).then( getSettings ).then( registerComponent );&#125; ç›®å‰è¿™ä¸ªå‡½æ•°åªæ˜¯è¿”å›äº†æ‰€æœ‰ä¼ ç»™å®ƒçš„å‚æ•°ã€‚æˆ‘ä»¬è¦æŠŠä¸Šé¢æåˆ°çš„æ•´ä¸ªçš„é€»è¾‘æ·»åŠ è¿›å»ã€‚é¦–å…ˆï¼ŒæŠŠè„šæœ¬è½¬æˆ Object URIï¼š 12const jsFile = new Blob( [ script.textContent ], &#123; type: 'application/javascript' &#125; );const jsURL = URL.createObjectURL( jsFile ); ç„¶åï¼Œé€šè¿‡ import åŠ è½½å®ƒå¹¶è¿”å› templateï¼Œstyles å’Œä» &lt;script&gt; ä¸­æå–çš„ç»„ä»¶åç§°ã€‚ 1234567return import( jsURL ).then( ( module ) =&gt; &#123; return &#123; name: module.default.name, template, style &#125;&#125; ); å€ŸåŠ©äºæ­¤ï¼ŒregisterComponent() æ¥æ”¶çš„ 3 ä¸ªå‚æ•°é‡Œ &lt;script&gt; å˜æˆäº†ç»„ä»¶çš„åç§°ã€‚ä¿®æ”¹ä»£ç ï¼š 1234567function registerComponent( &#123; template, style, name &#125; ) &#123; class UnityComponent extends HTMLElement &#123; [â€¦] &#125; return customElements.define( name, UnityComponent );&#125; ï¼¼( ï½€âˆ€Â´)ï¼ VoilÃ ! è¡Œä¸ºå±‚ç»„ä»¶è¿˜æœ‰ä¸€éƒ¨åˆ†æ²¡å®Œæˆï¼šè¡Œä¸ºï¼Œå³å¤„ç†äº‹ä»¶ã€‚ç›®å‰ä½ åªèƒ½ä» getSettings() å‡½æ•°è·å–ç»„ä»¶çš„åå­—ï¼Œä½ è¿˜éœ€è¦è·å–äº‹ä»¶ç›‘å¬å™¨ã€‚Object.entries() å¯ä»¥ç”¨æ¥å®ç°è¿™ä¸ªç›®çš„ã€‚æˆ‘ä»¬å›åˆ° getSettings() ç»™å®ƒæ·»åŠ é€‚å½“ä»£ç ï¼š 1234567891011121314151617181920212223242526function getSettings( &#123; template, style, script &#125; ) &#123; [â€¦] function getListeners( settings ) &#123; // 1 const listeners = &#123;&#125;; Object.entries( settings ).forEach( ( [ setting, value ] ) =&gt; &#123; // 3 if ( setting.startsWith( 'on' ) ) &#123; // 4 listeners[ setting[ 2 ].toLowerCase() + setting.substr( 3 ) ] = value; // 5 &#125; &#125; ); return listeners; &#125; return import( jsURL ).then( ( module ) =&gt; &#123; const listeners = getListeners( module.default ); // 2 return &#123; name: module.default.name, listeners, // 6 template, style &#125; &#125; );&#125; å‡½æ•°å˜å¾—å¤æ‚äº†ã€‚å‡ºç°äº†æ–°çš„è¾…åŠ©å‡½æ•° getListeners() (1)ã€‚æ¨¡å—çš„ export è¢«ä¼ é€’ç»™å®ƒ(2)ã€‚ç„¶åä½¿ç”¨ Object.entries() éå†äº†è¿™ä¸ª export çš„æ‰€æœ‰å±æ€§(3)ã€‚å¦‚æœå½“å‰å±æ€§åä»¥ on... å¼€å¤´(4)ï¼Œå°±æŠŠè¿™ä¸ªå±æ€§çš„å€¼èµ‹ç»™ listeners å¯¹è±¡ï¼Œå¹¶æŠŠ setting[2].toLowerCase() + setting.substr(3) ä½œä¸ºå®ƒçš„å±æ€§å(5)ã€‚è¿™ä¸ªå±æ€§åæ˜¯é€šè¿‡å»æ‰ on å‰ç¼€åæŠŠé¦–å­—æ¯è½¬æ¢æˆå°å†™ï¼ˆè¿™æ · onClick ä¼šè¢«è½¬æ¢æˆ clickï¼‰å¾—åˆ°çš„ã€‚ç„¶åæŠŠ listeners å¯¹è±¡ä¼ å‡ºå»(6)ã€‚ å¯ä»¥ç”¨ [].reduce() ä»£æ›¿ [].forEach() æ¥å¤„ç† listeners å˜é‡ï¼š 123456789function getListeners( settings ) &#123; return Object.entries( settings ).reduce( ( listeners, [ setting, value ] ) =&gt; &#123; if ( setting.startsWith( 'on' ) ) &#123; listeners[ setting[ 2 ].toLowerCase() + setting.substr( 3 ) ] = value; &#125; return listeners; &#125;, &#123;&#125; );&#125; ç°åœ¨ä½ å¯ä»¥åœ¨ç»„ä»¶çš„ class ä¸­ç»‘å®šè¿™äº›ç›‘å¬å™¨äº†ï¼š 123456789101112131415161718function registerComponent( &#123; template, style, name, listeners &#125; ) &#123; // 1 class UnityComponent extends HTMLElement &#123; connectedCallback() &#123; this._upcast(); this._attachListeners(); // 2 &#125; [â€¦] _attachListeners() &#123; Object.entries( listeners ).forEach( ( [ event, listener ] ) =&gt; &#123; // 3 this.addEventListener( event, listener, false ); // 4 &#125; ); &#125; &#125; return customElements.define( name, UnityComponent );&#125; é‡æ„è¿‡ç¨‹ä¸­æˆ‘ä»¬å¢åŠ äº†ä¸€ä¸ªæ–°çš„å‚æ•° listeners (1)ï¼Œä»¥åŠ class ä¸­çš„ä¸€ä¸ªæ–°çš„æ–¹æ³• _attachListeners (2)ã€‚æˆ‘ä»¬åˆä¸€æ¬¡ç”¨åˆ°äº† Object.entries()--è¿™æ¬¡æ˜¯ç”¨æ¥éå† listeners (3) å¹¶æŠŠå®ƒä»¬ç»‘å®šåˆ°è¿™ä¸ªç»„ä»¶å…ƒç´ ä¸Š (4)ã€‚ åšå®Œè¿™äº›ä»¥åæˆ‘ä»¬çš„ç»„ä»¶åº”è¯¥ä¼šå“åº”ç‚¹å‡»äº‹ä»¶äº†ï¼š ç‚¹å‡»äº†è¿™ä¸ªç»„ä»¶ä»¥å Chrome å¼¹æ¡†æ˜¾ç¤ºï¼šâ€œDonâ€™t touch me!â€ ä»¥ä¸Šå°±æ˜¯å¦‚ä½•å®ç°ä¸€ä¸ªå•æ–‡ä»¶ Web Components ğŸ‰! æµè§ˆå™¨å…¼å®¹æ€§ä»¥åŠå…¶ä»–ä½ å¯ä»¥çœ‹å‡ºï¼Œå³ä½¿æ˜¯ä¸ºäº†æ”¯æŒä¸€ä¸ªæœ€ç®€å•å½¢å¼çš„å•æ–‡ä»¶ç»„ä»¶ï¼Œä¹Ÿéœ€è¦åšéå¸¸å¤šçš„å·¥ä½œã€‚æˆ‘ä»¬æ‰€å±•ç°çš„è¿™ä¸ªç³»ç»Ÿä¸­çš„è®¸å¤šéƒ¨åˆ†éƒ½æ˜¯ç”¨è„ hack å®ç°çš„ï¼ˆç”¨ Object URI æ¥åŠ è½½ ES æ¨¡å—ï¼Ÿ--ä»€ä¹ˆé¬¼ï¼ï¼‰è€Œä¸”å¦‚æœæ²¡æœ‰æµè§ˆå™¨çš„åŸç”Ÿæ”¯æŒï¼Œè¿™é¡¹æŠ€æœ¯ä¹Ÿæ²¡ä»€ä¹ˆæ„ä¹‰ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œåœ¨æˆ‘å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼ˆ2018 å¹´ 8 æœˆï¼‰Firefox å¹¶ä¸æ”¯æŒ Custom Elements å’Œ dynamic importã€‚å¦ç™½è¯´è¿™ä¸œè¥¿ç°åœ¨åªåœ¨ Chrome é‡Œå¥½ä½¿ã€‚å› æ­¤--ç›®å‰æ¥è¯´--å®ƒåªæ˜¯ä¸ºäº†æ»¡è¶³ä¸€ä¸‹å¥½å¥‡å¿ƒï¼Œæ²¡ä»€ä¹ˆå®é™…ç”¨å¤„ã€‚ ä¸è¿‡å®ç°ä¸€ä¸ªè¿™æ ·çš„ä¸œè¥¿è¿˜æ˜¯å¾ˆå¥½ç©çš„ã€‚å®ƒæ˜¯ä¸€ä¸ªæ¶‰åŠäº†è®¸å¤šæµè§ˆå™¨å¼€å‘å’Œç°ä»£ web æ ‡å‡†ç›¸å…³å†…å®¹çš„ä¸ä¼—ä¸åŒçš„å°ç©æ„å„¿ã€‚æˆ‘å¸Œæœ›è‡³å°‘èƒ½æœ‰ä¸€ä¸ªäººçœ‹å®Œäº†è¿™ç¯‡æ–‡ç« ï¼ å½“ç„¶äº†æ•´ä¸ªä½œå“å¯ä»¥åœ¨ç½‘ä¸Šé¢„è§ˆã€‚","link":"/2019/03/27/single-file-web-components/"}],"tags":[{"name":"VueJS","slug":"VueJS","link":"/tags/VueJS/"},{"name":"jQuery","slug":"jQuery","link":"/tags/jQuery/"},{"name":"CSS","slug":"CSS","link":"/tags/CSS/"},{"name":"Hardware accelerate","slug":"Hardware-accelerate","link":"/tags/Hardware-accelerate/"},{"name":"ç¡¬ä»¶åŠ é€Ÿ","slug":"ç¡¬ä»¶åŠ é€Ÿ","link":"/tags/ç¡¬ä»¶åŠ é€Ÿ/"},{"name":"JavaScript","slug":"JavaScript","link":"/tags/JavaScript/"},{"name":"Web å¼€å‘","slug":"Web-å¼€å‘","link":"/tags/Web-å¼€å‘/"},{"name":"Super","slug":"Super","link":"/tags/Super/"},{"name":"Extends","slug":"Extends","link":"/tags/Extends/"},{"name":"JSå¯¹è±¡","slug":"JSå¯¹è±¡","link":"/tags/JSå¯¹è±¡/"},{"name":"Service Worker","slug":"Service-Worker","link":"/tags/Service-Worker/"},{"name":"App","slug":"App","link":"/tags/App/"},{"name":"JS åº”ç”¨","slug":"JS-åº”ç”¨","link":"/tags/JS-åº”ç”¨/"},{"name":"åº”ç”¨","slug":"åº”ç”¨","link":"/tags/åº”ç”¨/"},{"name":"Web Components","slug":"Web-Components","link":"/tags/Web-Components/"},{"name":"Javascript","slug":"Javascript","link":"/tags/Javascript/"},{"name":"ES6","slug":"ES6","link":"/tags/ES6/"}],"categories":[]}